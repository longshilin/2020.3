<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Memory Profiler module - Unity 手册">
<title>Memory Profiler module - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2020.3/uploads/Main/profiler-memory-simple-view.png">
<meta name="description" content="有两种方法可以在 Unity 中分析应用程序的内存使用情况：">
<meta property="og:description" content="有两种方法可以在 Unity 中分析应用程序的内存使用情况：">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'ProfilerMemory';
      if(!page) page = 'index';
      var version = '2020.3';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2020.3/Manual/ProfilerMemory.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2020.3/Manual/ProfilerMemory.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2020.3/Manual/ProfilerMemory.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2020.3/Manual/ProfilerMemory.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2020.3/Manual/ProfilerMemory.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2020.3/Manual/ProfilerMemory.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2020.3/Manual/ProfilerMemory.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2020.3/Documentation/Manual/ProfilerMemory.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/ProfilerMemory.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/ProfilerMemory.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/ProfilerMemory.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/ProfilerMemory.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/ProfilerMemory.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/ProfilerMemory.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/ProfilerMemory.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/ProfilerMemory.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/ProfilerMemory.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/ProfilerMemory.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/ProfilerMemory.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/ProfilerMemory.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/ProfilerMemory.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/ProfilerMemory.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/ProfilerMemory.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/ProfilerMemory.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/ProfilerMemory.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2020.3/Documentation/Manual/ProfilerMemory.html">English</a></li>
<li><a data-lang="cn" href="/cn/2020.3/Manual/ProfilerMemory.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2020.3/Manual/ProfilerMemory.html">日本語</a></li>
<li><a data-lang="es" href="/es/2020.3/Manual/ProfilerMemory.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2020.3/Manual/ProfilerMemory.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2020.3/Manual/ProfilerMemory.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/ProfilerMemory.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/ProfilerMemory.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/ProfilerMemory.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/ProfilerMemory.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/ProfilerMemory.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/ProfilerMemory.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/ProfilerMemory.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/ProfilerMemory.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/ProfilerMemory.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/ProfilerMemory.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/ProfilerMemory.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/ProfilerMemory.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/ProfilerMemory.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/ProfilerMemory.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/ProfilerMemory.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/ProfilerMemory.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/ProfilerMemory.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2020.3 (LTS)</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="analysis.html">分析</a></li>
<li><a href="Profiler.html">Profiler overview</a></li>
<li><a href="ProfilerWindow.html">The Profiler window</a></li>
<li>Memory Profiler module</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ProfilerGPU.html"></a></span><div class="tip">GPU Usage Profiler 模块</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ProfilerPhysics.html"></a></span><div class="tip">Physics Profiler 模块</div>
</div>
</div></div>
<h1>Memory Profiler module</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>有两种方法可以在 Unity 中分析应用程序的内存使用情况：</p>

<ul>
<li>
<strong>Memory Profiler module:</strong> This built-in Profiler module gives you basic information on where your application uses memory.</li>
<li>
<strong>Memory Profiler package:</strong> This is a separate package that you can add to your Project. It adds an additional Memory Profiler window to the Unity Editor, which you can then use to analyze memory usage in your application in even more detail. You can store and compare snapshots to find memory leaks more easily, or see the memory layout to find memory fragmentation issues.</li>
</ul>

<p>This page covers information on the built-in Memory Profiler module. For more information on the Memory profiler package, see the <a href="https://docs.unity3d.com/Packages/com.unity.memoryprofiler@latest">Memory Profiler documentation</a>.</p>

<p>Memory Profiler 模块中会显示一些代表应用程序中分配的总内存的计数器。可以使用 Memory 模块来查看信息，例如已加载对象的数量以及每个类别占用的总内存。还可以查看每个性能分析器帧的 GC 分配数。</p>

<p>When you profile your application in the Editor, the information in the Memory module indicates the memory usage in the Editor. These numbers are generally larger than when running on the release platform, because running the Unity Editor uses specific objects that take up memory, and the Editor window itself uses extra memory. Additionally, the Profiler displays memory that it uses, because Unity cannot cleanly separate it from the memory that the Play mode Player uses.
For more precise numbers and memory usage for your application, connect the Profiler to the running player via the <strong>Attach to Player</strong> menu. This allows you to see the actual usage on the target device.</p>

<h2>图表类别</h2>

<p>Memory 模块分为六个图表，这些图表显示有关应用程序在哪些方面花费了内存的详细信息。可以更改图表中类别的顺序；为此，请在图表的图例中拖放这些类别。还可以单击某个类别的有色图例以切换是否显示。</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>类别</strong></th>
	<th style="text-align:left;"><strong>描述</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Total Allocated</strong></td>
	<td style="text-align:left;">The total memory your application has used.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Texture Memory</strong></td>
	<td style="text-align:left;">How much memory the <a href="class-TextureImporter.html">Textures</a> in your application have used.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Mesh Memory</strong></td>
	<td style="text-align:left;">How much memory the <a href="class-Mesh.html">Meshes</a> in your application have used.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Material Count</strong></td>
	<td style="text-align:left;">The number of <a href="Materials.html">Material</a> instances in your application.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Object Count</strong></td>
	<td style="text-align:left;">The number of native object instances in your application.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GC Used Memory</strong></td>
	<td style="text-align:left;">The amount of memory used by the GC heap.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GC Allocated in Frame</strong></td>
	<td style="text-align:left;">The amount of memory allocated per frame on the GC heap.</td>
</tr>
</tbody>
</table>

<p><a name="markers"></a></p>

<h2>模块详细信息面板</h2>

<p>位于 Profiler 窗口底部的模块详细信息面板中有两个视图：__Simple__ 和 <strong>Detailed</strong>。要更改视图，请从模块详细信息面板左上角的下拉列表中选择相应的视图。</p>

<h3>Simple 视图</h3>

<p>The Simple view displays an overview of how Unity uses memory in real-time on a per-frame basis.</p>

<p>Unity reserves memory pools for allocations to avoid asking the operating system for memory too often. The Profiler displays how much memory is reserved, and how much Unity is using.</p>

<figure>
<img src="../uploads/Main/profiler-memory-simple-view.png" alt="The Simple Memory module view">
<figcaption>The Simple Memory module view</figcaption>
</figure>

<p>This information is also available via the <a href="../ScriptReference/Unity.Profiling.ProfilerRecorder.html">ProfilerRecorder API</a> and in the <a href="profiler-module-editor.html">Profiler Module Editor</a> so you can add them to a custom Profiler module.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Statistic</strong></th>
	<th style="text-align:left;"><strong>描述</strong></th>
	<th style="text-align:left;"><strong>Available in Release Players</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Total Used Memory</strong></td>
	<td style="text-align:left;">Total value of memory that Unity uses and tracks.</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Total Reserved Memory</strong></td>
	<td style="text-align:left;">Total reserved memory that Unity uses for tracking purposes and pool allocations.</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>GC Used Memory</strong><br><br><strong>GC Reserved Memory</strong>
</td>
	<td style="text-align:left;">The used heap size and total heap size that managed code uses. This memory is garbage collected.</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>Gfx Used Memory</strong><br><br><strong>Gfx Reserved Memory</strong>
</td>
	<td style="text-align:left;">The estimated amount of memory the driver uses on Textures, render targets, Shaders, and Mesh data.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>Audio Used Memory</strong><br><br><strong>Audio Reserved Memory</strong>
</td>
	<td style="text-align:left;">The Audio system’s estimated memory usage.</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>Video Used Memory</strong><br><br><strong>Video Reserved Memory</strong>
</td>
	<td style="text-align:left;">The Video system’s estimated memory usage</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>Profiler Used Memory</strong><br><br><strong>Profiler Reserved Memory</strong>
</td>
	<td style="text-align:left;">The memory the Profiler functionality uses and reserves from the system.</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>System Used Memory</strong></td>
	<td style="text-align:left;">The values in the Profiler are different to those displayed in your operating system’s task manager, because the Memory Profiler does not track all memory usage in your system. This includes memory that some drivers and plug-ins use, and memory used for executable code.<br><br> On platforms that support getting the total memory size of the application from the operating system, the <strong>System Memory Usage</strong> is over 0 and is the same size in a task manager.</td>
	<td style="text-align:left;">是</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>Texture Count</strong><br><br><strong>Texture Memory</strong>
</td>
	<td style="text-align:left;">The total count of loaded textures and memory they use.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>Mesh Count</strong><br><br><strong>Mesh Memory</strong>
</td>
	<td style="text-align:left;">The total count of loaded meshes and memory they use.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>Material Count</strong><br><br><strong>Material Memory</strong>
</td>
	<td style="text-align:left;">The total count of loaded materials and memory they use.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>AnimationClip Count</strong><br><br><strong>AnimationClip Memory</strong>
</td>
	<td style="text-align:left;">The total count of loaded AnimationClips and memory they use.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Asset Count</strong></td>
	<td style="text-align:left;">The total number of loaded assets.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GameObject Count</strong></td>
	<td style="text-align:left;">The total number of <a href="../ScriptReference/GameObject.html">GameObject</a> instances in the scene.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Scene Object Count</strong></td>
	<td style="text-align:left;">The total number of dynamic <code>UnityEngine.Object</code>s. This number includes the <strong>GameObject Count</strong>, plus the total number of components, and everything which is not asset in the scene.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Object Count</strong></td>
	<td style="text-align:left;">The total number of native <code>UnityEngine.Object</code>s that your application creates or loads. This number includes the <strong>Scene Object Count</strong>, plus the total number of all assets. If this number rises over time, your application is creating GameObjects or other assets and never destroying or unloading them.</td>
	<td style="text-align:left;">否</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>GC Allocation In Frame Count</strong><br><br><strong>GC Allocated In Frame</strong>
</td>
	<td style="text-align:left;">Amount of managed allocations and its total size in bytes.</td>
	<td style="text-align:left;">否</td>
</tr>
</tbody>
</table>

<h3>Availability in Players</h3>

<p>You can use the <a href="Unity.Profiling.ProfilerRecorder.html">ProfilerRecorder API</a> to access the Memory Profiler module’s counters in Players. The following example contains a simple script that collects “Total Reserved Memory”, “GC Reserved Memory” and “System Used Memory” metrics, and displays those as a GUI.TextArea. The Memory Profiler module information belongs to the ProfilerCategory.Memory Profiler category.</p>

<pre><code class="language-csharp">using System.Text;
using Unity.Profiling;
using UnityEngine;

public class MemoryStatsScript : MonoBehaviour
{
    string statsText;
    ProfilerRecorder totalReservedMemoryRecorder;
    ProfilerRecorder gcReservedMemoryRecorder;
    ProfilerRecorder systemUsedMemoryRecorder;

    void OnEnable()
    {
        totalReservedMemoryRecorder = ProfilerRecorder.StartNew(ProfilerCategory.Memory, "Total Reserved Memory");
        gcReservedMemoryRecorder = ProfilerRecorder.StartNew(ProfilerCategory.Memory, "GC Reserved Memory");
        systemUsedMemoryRecorder = ProfilerRecorder.StartNew(ProfilerCategory.Memory, "System Used Memory");
    }

    void OnDisable()
    {
        totalReservedMemoryRecorder.Dispose();
        gcReservedMemoryRecorder.Dispose();
        systemUsedMemoryRecorder.Dispose();
    }

    void Update()
    {
        var sb = new StringBuilder(500);
        if (totalReservedMemoryRecorder.Valid)
            sb.AppendLine($"Total Reserved Memory: {totalReservedMemoryRecorder.LastValue}");
        if (gcReservedMemoryRecorder.Valid)
            sb.AppendLine($"GC Reserved Memory: {gcReservedMemoryRecorder.LastValue}");
        if (systemUsedMemoryRecorder.Valid)
            sb.AppendLine($"System Used Memory: {systemUsedMemoryRecorder.LastValue}");
        statsText = sb.ToString();
    }

    void OnGUI()
    {
        GUI.TextArea(new Rect(10, 30, 250, 50), statsText);
    }
}
</code></pre>

<p>The following screenshot shows the result of adding the script to the <a href="https://assetstore.unity.com/packages/essentials/tutorial-projects/tanks-tutorial-46209">Tanks! tutorial project</a>.</p>

<figure>
<img src="../uploads/Main/profiler-tanks-memory-overlay.png" alt="Tanks! tutorial with the overlaid memory information">
<figcaption>Tanks! tutorial with the overlaid memory information</figcaption>
</figure>

<p>This information is available in Release Players, as are the other high level counters in the table above. If you want to see the selected Memory counters in a custom module in the Profiler window, use the <a href="profiler-module-editor.html">Module Editor</a> to configure the chart.</p>

<h3>Detailed 视图</h3>

<p>The <strong>Detailed</strong> view provides a snapshot of your application’s current state. Click the <strong>Take Sample</strong> button to capture detailed memory usage for the current target. It takes the Profiler time to get this data, so the <strong>Detailed</strong> view does not give you real-time details. After the Profiler takes a sample, the Profiler window displays a list view where you can explore your application’s memory usage in more detail.</p>

<figure>
<img src="../uploads/Main/profiler-memory-detailed-view.png" alt="The Detailed memory module view">
<figcaption>The Detailed memory module view</figcaption>
</figure>

<p>Enable the <strong>Gather object references</strong> setting at the top of the module details pane to collect information about what is referencing an object at the time of the snapshot. The Profiler displays this information in the right-hand pane of the window.</p>

<p>The list view divides objects that use memory into the following categories:</p>

<ul>
<li>
<strong>Other:</strong> Objects that are neither Assets, GameObjects, or components. This includes information such as the memory Unity uses for different systems.</li>
<li>
<strong>Not Saved</strong>：标记为 <a href="../ScriptReference/HideFlags.html">DontSave</a> 的对象</li>
<li>
<strong>Builtin Resources</strong>: Unity Editor resources or Unity default resources, such as Shaders you have added to the <a href="class-GraphicsSettings.html#Always">Always Included Shaders</a> list of the Graphics settings.</li>
<li>
<strong>Assets:</strong> Assets referenced from user or native code.</li>
<li>
<strong>Scene Memory</strong>: Objects and attached components.</li>
</ul>

<p>When you click on a GameObject in the Assets or Scene Memory list, it’s highlighted in the Project or Scene view.</p>

<p><strong>Note:</strong> In the <strong>Other</strong> category, memory reported under <code>System.ExecutableAndDlls</code> is read-only memory. The operating system might discard these pages as needed and later reload them from the file system. This generates lower memory usage, and usually does not directly contribute to the operating system’s decision to close your application if it uses too much memory. Some of these pages might also be shared with other applications that are using the same frameworks.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ProfilerGPU.html"></a></span><div class="tip">GPU Usage Profiler 模块</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ProfilerPhysics.html"></a></span><div class="tip">Physics Profiler 模块</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2020.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
