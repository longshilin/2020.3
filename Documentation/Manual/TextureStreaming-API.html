<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Mipmap 串流 API - Unity 手册">
<title>Mipmap 串流 API - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2020.3/uploads/Main/StreamingController.png">
<meta name="description" content="本页包含以下部分：">
<meta property="og:description" content="本页包含以下部分：">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'TextureStreaming-API';
      if(!page) page = 'index';
      var version = '2020.3';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2020.3/Manual/TextureStreaming-API.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2020.3/Manual/TextureStreaming-API.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2020.3/Manual/TextureStreaming-API.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2020.3/Manual/TextureStreaming-API.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2020.3/Manual/TextureStreaming-API.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2020.3/Manual/TextureStreaming-API.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2020.3/Manual/TextureStreaming-API.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2020.3/Documentation/Manual/TextureStreaming-API.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/TextureStreaming-API.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/TextureStreaming-API.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/TextureStreaming-API.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/TextureStreaming-API.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/TextureStreaming-API.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/TextureStreaming-API.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/TextureStreaming-API.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/TextureStreaming-API.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/TextureStreaming-API.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/TextureStreaming-API.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/TextureStreaming-API.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/TextureStreaming-API.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/TextureStreaming-API.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/TextureStreaming-API.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/TextureStreaming-API.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/TextureStreaming-API.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/TextureStreaming-API.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2020.3/Documentation/Manual/TextureStreaming-API.html">English</a></li>
<li><a data-lang="cn" href="/cn/2020.3/Manual/TextureStreaming-API.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2020.3/Manual/TextureStreaming-API.html">日本語</a></li>
<li><a data-lang="es" href="/es/2020.3/Manual/TextureStreaming-API.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2020.3/Manual/TextureStreaming-API.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2020.3/Manual/TextureStreaming-API.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/TextureStreaming-API.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/TextureStreaming-API.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/TextureStreaming-API.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/TextureStreaming-API.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/TextureStreaming-API.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/TextureStreaming-API.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/TextureStreaming-API.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/TextureStreaming-API.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/TextureStreaming-API.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/TextureStreaming-API.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/TextureStreaming-API.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/TextureStreaming-API.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/TextureStreaming-API.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/TextureStreaming-API.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/TextureStreaming-API.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/TextureStreaming-API.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/TextureStreaming-API.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 2020.3 (LTS)</a></li>
<li><a href="Graphics.html">图形</a></li>
<li><a href="OptimizingGraphicsPerformance.html">优化图形性能</a></li>
<li><a href="TextureStreaming.html">Mipmap 串流</a></li>
<li>Mipmap 串流 API</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-StreamingController.html"></a></span><div class="tip">串流控制器 (Streaming Controller)</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="graphics-color.html"></a></span><div class="tip">Color</div>
</div>
</div></div>
<h1>Mipmap 串流 API</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>本页包含以下部分：</p>

<ul>
<li><a href="#Overview">概述</a></li>
<li><a href="#ControlMipmapStreaming">控制 Mipmap 串流系统</a></li>
<li><a href="#ControlCameras">控制 Mipmap 串流的摄像机</a></li>
<li><a href="#LoadSpecificMipmap">加载特定 Mipmap</a></li>
<li><a href="#Debugging">调试</a></li>
</ul>

<p><a name="Overview"> </a></p>

<h2>概述</h2>

<p>使用 API 可对 Unity 串流纹理的方式进行更有力的控制。您可以覆盖要为特定纹理加载的 Mipmap 级别，而 Mipmap 串流系统将自动管理所有其他纹理。在特定的游戏项目中，您可能知道 Unity 需要完全加载某些纹理。例如，远距离快速移动或者使用瞬间摄像机切换镜头，可能会导致明显的纹理质量变化，而 Mipmap 串流系统会将 Mipmap 从磁盘串流到内存。为了减少这个问题，可以使用 API 在新的摄像机位置预加载 Mipmap。</p>

<p>要对纹理启用和控制 Mipmap 串流，请使用以下属性：</p>

<ul>
<li><a href="../ScriptReference/TextureImporter-streamingMipmaps.html">TextureImporter.streamingMipmaps</a></li>
<li><a href="../ScriptReference/TextureImporter-streamingMipmapsPriority.html">TextureImporter.streamingMipmapsPriority</a></li>
<li><a href="../ScriptReference/IHVImageFormatImporter-streamingMipmaps.html">IHVImageFormatImporter.streamingMipmaps</a></li>
<li><a href="../ScriptReference/IHVImageFormatImporter-streamingMipmapsPriority.html">IHVImageFormatImporter.streamingMipmapsPriority</a></li>
</ul>

<p>Mipmap 串流可自动减小纹理的大小，直到它们符合 Mipmap 串流__内存预算 (Memory Budget)<strong>。纹理的 </strong>Mipmap 优先级__ 数值大致是__内存预算__ 的 Mipmap 偏移。例如，优先级为 2 时，Mipmap 串流系统尝试使用比优先级为 0 的其他纹理高出两个 Mip 级别的 Mipmap。负值也有效。如果无法实现，则会使用更低的 Mip 级别来适应__内存预算 (Memory Budget)__。</p>

<p><a name="ControlMipmapStreaming"> </a></p>

<h2>控制 Mipmap 串流系统</h2>

<p>以下属性在运行时为只读：</p>

<ul>
<li><a href="../ScriptReference/SystemInfo-supportsMipStreaming.html">SystemInfo.supportsMipStreaming</a></li>
<li><a href="../ScriptReference/Texture2D-streamingMipmaps.html">Texture2D.streamingMipmaps</a></li>
<li><a href="../ScriptReference/Texture2D-streamingMipmapsPriority.html">Texture2D.streamingMipmapsPriority</a></li>
</ul>

<p>要控制运行时的行为，请使用以下静态属性：</p>

<ul>
<li><a href="../ScriptReference/QualitySettings-streamingMipmapsActive.html">QualitySettings.streamingMipmapsActive</a></li>
<li>
<a href="../ScriptReference/QualitySettings-streamingMipmapsMemoryBudget.html">QualitySettings.streamingMipmapsMemoryBudget</a>（默认为 512 MB）</li>
<li>
<a href="../ScriptReference/QualitySettings-streamingMipmapsRenderersPerFrame.html">QualitySettings.streamingMipmapsRenderersPerFrame</a>（默认为 512）</li>
<li>
<a href="../ScriptReference/QualitySettings-streamingMipmapsMaxLevelReduction.html">QualitySettings.streamingMipmapsMaxLevelReduction</a>（默认为 2）</li>
<li>
<a href="../ScriptReference/QualitySettings-streamingMipmapsMaxFileIORequests.html">QualitySettings.streamingMipmapsMaxFileIORequests</a>（默认为 1024）</li>
<li>
<a href="../ScriptReference/Texture-streamingTextureDiscardUnusedMips.html">Texture2D.streamingTextureDiscardUnusedMips</a>（默认为 false）。</li>
</ul>

<h2>配置内存预算</h2>

<p><strong>Memory Budget（内存预算）</strong> 属性确定 Unity 用于场景中纹理的最大内存量。默认情况下，此设置为 512MB。使用纹理串流时，__内存预算__ 对您的场景有很大影响。如果您的内存预算太小，Unity 会降低场景中纹理的分辨率。这可能会导致纹理突变或加载缓慢。但是，内存预算应尽可能小，以便为其他资源留出内存。</p>

<p>要确定您的内存预算的合理数量：</p>

<p>1.在项目运行时查看 <a href="../ScriptReference/Texture-desiredTextureMemory.html">Texture.desiredTextureMemory</a> 值。
2.将 <strong>Memory Budget</strong> 值设置为略高于<a href="../ScriptReference/Texture-desiredTextureMemory.html">Texture.desiredTextureMemory</a> 的值。</p>

<p>这确保有足够的纹理内存可用于场景中资源最密集的区域，并防止纹理下降到较低的分辨率。如果您有额外的可用内存，可以设置更大的内存预算，以便 Unity 可以将场景中不可见的纹理数据保留在串流缓存中。</p>

<p><a name="ControlCameras"> </a></p>

<h2>控制 Mipmap 串流的摄像机</h2>

<p>In the Quality Settings (<strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Quality</strong>), use <strong>Add All Cameras</strong> to specify whether Unity should calculate Mip Map Streaming for all Cameras in the Project. This is enabled by default.</p>

<p>为了更精细地控制哪些摄像机处于活动状态，请在与 Camera 组件相同的游戏对象上使用 <a href="class-StreamingController.html">Streaming Controller</a> 组件。这会直接从 Camera 组件获取位置和摄像机设置（如 __Field of View__）。</p>

<p>如果禁用了摄像机，除非启用 Streaming Controller 并处于预加载状态，否则 Unity 不会为摄像机计算 Mipmap 串流。启用了 Streaming Controller 或关联的摄像机时，或者如果 Streaming Controller 处于预加载状态，则 Unity 将为此摄像机计算 Mipmap 串流。如果禁用了 Streaming Controller，则 Unity 将不会为此摄像机计算 Mipmap 串流。</p>

<figure>
<img src="../uploads/Main/StreamingController.png" alt="Streaming Controller 组件">
<figcaption>Streaming Controller 组件</figcaption>
</figure>

<p>Streaming Controller 组件包含 <strong>Mip Map Bias</strong> 设置。要通过 API 来控制此设置，请使用 <a href="../ScriptReference/StreamingController-streamingMipmapBias.html">StreamingController.streamingMipmapBias</a>。</p>

<p>使用此设置可以强制 Unity 加载比 Mipmap 串流系统为这些纹理选择的更高或更低的 Mipmap 级别。使用数字字段来设置 Unity 应用于 Mipmap 级别的偏移。Unity 可将此偏移添加到在此摄像机中可见的所有纹理。</p>

<h3>摄像机切换镜头</h3>

<p>从一个位置切换到另一个位置时，Mipmap 串流系统需要一定的时间将所需纹理串流到 Unity。要在某个禁用的目标摄像机位置触发预加载，请在目标摄像机的 Streaming Controller 组件上调用 <a href="../ScriptReference/StreamingController.SetPreloading.html">StreamingController.SetPreloading</a>。可指定一个超时来结束预加载阶段。要在预加载阶段结束时自动启用摄像机，请在脚本中将 <code>activateCameraOnTimeout</code> 标志设置为 true。要在从某个摄像机切换到新摄像机之后禁用此摄像机，请以 <code>disableCameraCuttingFrom</code> 参数传递该摄像机。</p>

<pre><code>void StreamingController.SetPreloading(float timeoutSeconds=0.0f, bool activateCameraOnTimeout=false, Camera disableCameraCuttingFrom=null)
</code></pre>

<p>要取消或查询预加载状态，请使用下列方法：</p>

<ul>
<li><a href="../ScriptReference/StreamingController.CancelPreloading.html">StreamingController.CancelPreloading</a></li>
<li><a href="../ScriptReference/StreamingController.IsPreloading.html">StreamingController.IsPreloading</a></li>
</ul>

<p>要确定 Mipmap 串流系统是否仍在加载纹理，可以查询以下属性：</p>

<ul>
<li><a href="../ScriptReference/Texture-streamingTextureLoadingCount.html">Texture.streamingTextureLoadingCount</a></li>
<li><a href="../ScriptReference/Texture-streamingTexturePendingLoadCount.html">Texture.streamingTexturePendingLoadCount</a></li>
</ul>

<p>请注意，启用摄像机与这些属性变为非零值之间存在延迟。这种延迟是因为 Mipmap 串流系统使用时间切片处理技术来计算 Mipmap。鉴于此原因，在摄像机切换镜头时，应该在切换镜头之前等待一个最短时间。纹理预算和场景移动会导致连续的 Mipmap 串流，所以还需要设置在切换镜头之前的最长等待时间。</p>

<p><a name="LoadSpecificMipmap"> </a></p>

<h2>加载特定 Mipmap</h2>

<p>要覆盖特定纹理的 Mip 级别计算，请使用 <a href="../ScriptReference/Texture2D-requestedMipmapLevel.html">Texture2D.requestedMipmapLevel</a>。这是一个精确的 Mip 级别，范围从 0 到特定纹理的最高 Mip 级别或者是 <strong>Max Level Reduction</strong> 值（如果该值更大）。0 表示最高分辨率的 Mip。</p>

<p>要检查您请求的 Mip 级别是否已加载，请使用 <a href="../ScriptReference/Texture2D.IsRequestedMipmapLevelLoaded.html">Texture2D.IsRequestedMipmapLevelLoaded</a>。</p>

<p>如果不再希望覆盖所请求的 Mip 级别，而是希望系统继续计算 Mipmap 级别，请使用 <a href="../ScriptReference/Texture2D.ClearRequestedMipmapLevel.html">Texture2D.ClearRequestedMipmapLevel</a> 来重置值。</p>

<p>要估算网格上的 UV 密度，请使用以下代码行：</p>

<pre><code>float Mesh.GetUVDistributionMetric(int uvSetIndex)
</code></pre>

<p>可以使用 UV 分布指标根据摄像机的位置来计算所需的 Mipmap 级别。请参阅 <a href="../ScriptReference/Mesh.GetUVDistributionMetric.html">Mesh.GetUVDistributionMetric</a> 以查看代码示例。</p>

<p>要覆盖系统并强制加载所有 Mip，请使用 <a href="../ScriptReference/Texture-streamingTextureForceLoadAll.html">Texture.streamingTextureForceLoadAll</a>。</p>

<h3>相关的 API 方法</h3>

<p>要获取和设置分配给某一材质的纹理，请使用：</p>

<ul>
<li><a href="../ScriptReference/Material.GetTexture.html">Material.GetTexture</a></li>
<li><a href="../ScriptReference/Material.SetTexture.html">Material.SetTexture</a></li>
</ul>

<p>要获取某一材质中的所有纹理属性，请使用：</p>

<ul>
<li><a href="../ScriptReference/Material.GetTexturePropertyNames.html">Material.GetTexturePropertyNames</a></li>
<li><a href="../ScriptReference/Material.GetTexturePropertyNameIDs.html">Material.GetTexturePropertyNameIDs</a></li>
</ul>

<p><a name="DebuggingAPI"> </a></p>

<h3>调试或性能分析 API</h3>

<p>要获取可用于创建调试可视化的材质属性中每个纹理串流信息，请使用 <a href="../ScriptReference/Texture.SetStreamingTextureMaterialDebugProperties.html">Texture.SetStreamingTextureMaterialDebugProperties</a>。</p>

<p>以下纹理属性也可用于为项目开发 Mipmap 串流性能分析/调试工具。</p>

<ul>
<li><a href="../ScriptReference/Texture-currentTextureMemory.html">Texture.currentTextureMemory</a></li>
<li><a href="../ScriptReference/Texture-desiredTextureMemory.html">Texture.desiredTextureMemory</a></li>
<li><a href="../ScriptReference/Texture-totalTextureMemory.html">Texture.totalTextureMemory</a></li>
<li><a href="../ScriptReference/Texture-targetTextureMemory.html">Texture.targetTextureMemory</a></li>
<li><a href="../ScriptReference/Texture-nonStreamingTextureMemory.html">Texture.nonStreamingTextureMemory</a></li>
</ul>

<p>要获取与 Mipmap 串流系统交互的纹理或渲染器的数量信息，请使用以下属性：</p>

<ul>
<li><a href="../ScriptReference/Texture-streamingMipmapUploadCount.html">Texture.streamingMipmapUploadCount</a></li>
<li><a href="../ScriptReference/Texture-nonStreamingTextureCount.html">Texture.nonStreamingTextureCount</a></li>
<li><a href="../ScriptReference/Texture-streamingTextureCount.html">Texture.streamingTextureCount</a></li>
<li><a href="../ScriptReference/Texture-streamingRendererCount.html">Texture.streamingRendererCount</a></li>
</ul>

<p>要获取有关纹理的 Mipmap 级别的信息，请使用以下属性：</p>

<ul>
<li><a href="../ScriptReference/Texture2D-desiredMipmapLevel.html">Texture2D.desiredMipmapLevel</a></li>
<li><a href="../ScriptReference/Texture2D-loadingMipmapLevel.html">Texture2D.loadingMipmapLevel</a></li>
<li><a href="../ScriptReference/Texture2D-loadedMipmapLevel.html">Texture2D.loadedMipmapLevel</a></li>
</ul>

<h3>光照贴图</h3>

<p>You can use the Mip Map Streaming system to stream lightmaps. You can edit the Texture settings directly, but they reset to their default values when Unity regenerates the lightmaps. The <a href="class-PlayerSettings.html">Player Settings</a> (<strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Player</strong>) provide two controls to set streaming and priority for generated lightmaps: <strong>Lightmap Streaming Enabled</strong> and <strong>Streaming Priority</strong>.</p>

<figure>
<img src="../uploads/Main/TextureStreaming-API-LightMaps.png" alt="Edit &amp;gt; Project Settings &amp;gt; Player &amp;gt; Other Settings">
<figcaption><strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Player</strong> &gt; <strong>Other Settings</strong></figcaption>
</figure>

<h3>播放模式</h3>

<p>默认情况下，在运行模式下会启用 Mipmap 串流。但是，在运行模式下运行时，Editor 开销会导致统计信息出现偏差。要获取精确数字，请在目标设备上测试应用程序。</p>

<p>如果在运行模式下启用了 Mipmap 串流，但在编辑模式下未启用（或者是相反的情况），则切换到运行模式和从运行模式退出时所花费的时间会稍长一些。要在运行模式下禁用 Mipmap 串流，请选择 Editor 设置 (<strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Editor</strong>)，导航到 <strong>Streaming Settings__，并禁用 </strong>Enabled Texture Streaming in Play Mode__。这会阻止 Unity 卸载和重新加载 Mipmap 数据，并且应该会加快运行模式工作流程。</p>

<figure>
<img src="../uploads/Main/StreamingSettings2019-1.png" alt="Edit &amp;gt; Project Settings &amp;gt; Editor &amp;gt; Streaming Settings">
<figcaption><strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Editor</strong> &gt; <strong>Streaming Settings</strong></figcaption>
</figure>
<!-- area:graphics -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-StreamingController.html"></a></span><div class="tip">串流控制器 (Streaming Controller)</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="graphics-color.html"></a></span><div class="tip">Color</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2021 Unity Technologies. Publication 2020.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
