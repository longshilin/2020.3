<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="自定义渲染纹理 - Unity 手册">
<title>自定义渲染纹理 - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2020.3/uploads/Main/CustomRenderTextures-0.png">
<meta name="description" content="Custom Render Textures are a special type of texture that allow you to update a texture with a shader. They are an extension to Render Textures. You can use Custom Render Textures to create complex simulations like caustics, ripple simulation for rain effects, and liquid splatters.">
<meta property="og:description" content="Custom Render Textures are a special type of texture that allow you to update a texture with a shader. They are an extension to Render Textures. You can use Custom Render Textures to create complex simulations like caustics, ripple simulation for rain effects, and liquid splatters.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'class-CustomRenderTexture';
      if(!page) page = 'index';
      var version = '2020.3';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2020.3/Manual/class-CustomRenderTexture.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2020.3/Manual/class-CustomRenderTexture.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2020.3/Manual/class-CustomRenderTexture.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2020.3/Manual/class-CustomRenderTexture.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2020.3/Manual/class-CustomRenderTexture.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2020.3/Manual/class-CustomRenderTexture.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2020.3/Manual/class-CustomRenderTexture.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2020.3/Documentation/Manual/class-CustomRenderTexture.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/class-CustomRenderTexture.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/class-CustomRenderTexture.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/class-CustomRenderTexture.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/class-CustomRenderTexture.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/class-CustomRenderTexture.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/class-CustomRenderTexture.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/class-CustomRenderTexture.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/class-CustomRenderTexture.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/class-CustomRenderTexture.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/class-CustomRenderTexture.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/class-CustomRenderTexture.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/class-CustomRenderTexture.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/class-CustomRenderTexture.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/class-CustomRenderTexture.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/class-CustomRenderTexture.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/class-CustomRenderTexture.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/class-CustomRenderTexture.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2020.3/Documentation/Manual/class-CustomRenderTexture.html">English</a></li>
<li><a data-lang="cn" href="/cn/2020.3/Manual/class-CustomRenderTexture.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2020.3/Manual/class-CustomRenderTexture.html">日本語</a></li>
<li><a data-lang="es" href="/es/2020.3/Manual/class-CustomRenderTexture.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2020.3/Manual/class-CustomRenderTexture.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2020.3/Manual/class-CustomRenderTexture.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/class-CustomRenderTexture.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/class-CustomRenderTexture.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/class-CustomRenderTexture.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/class-CustomRenderTexture.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/class-CustomRenderTexture.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/class-CustomRenderTexture.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/class-CustomRenderTexture.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/class-CustomRenderTexture.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/class-CustomRenderTexture.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/class-CustomRenderTexture.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/class-CustomRenderTexture.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/class-CustomRenderTexture.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/class-CustomRenderTexture.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/class-CustomRenderTexture.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/class-CustomRenderTexture.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/class-CustomRenderTexture.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/class-CustomRenderTexture.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2020.3 (LTS)</a></li>
<li><a href="Graphics.html">图形</a></li>
<li><a href="Shaders.html">网格、材质、着色器和纹理</a></li>
<li><a href="Textures.html">纹理</a></li>
<li>自定义渲染纹理</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-RenderTexture.html"></a></span><div class="tip">渲染纹理</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="class-MovieTexture.html"></a></span><div class="tip">电影纹理 (Movie Textures)</div>
</div>
</div></div>
<h1>自定义渲染纹理</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><strong>Custom Render Textures</strong> are a special type of texture that allow you to update a texture with a shader. They are an extension to <a href="class-RenderTexture.html">Render Textures</a>. You can use Custom Render Textures to create complex simulations like caustics, ripple simulation for rain effects, and liquid splatters.</p>

<p>The Custom Render Textures feature provides a scripting and Shader framework to help with complicated configuration like varying update frequency, partial or multi-pass updates.</p>

<p>To use this framework you need to assign a Material to the Custom Render Texture asset. Custom Render Textures require a compatible Material. For more information, see <a href="#writing-a-shader-for-a-custom-render-texture">Writing a shader for a Custom Render Texture</a>.</p>

<p>To assign a compatible material to a Custom Render Texture asset:</p>

<ol>
<li>Create a new Custom Render Texture asset.</li>
<li>Assign a compatible Material to it in the <strong>Material</strong> property in the <strong>Custom Render Texture</strong> asset.</li>
</ol>

<p>This Material updates the content of a texture according to its parameters. </p>

<p>本页包含以下信息：</p>

<ul>
<li><p><a href="#render-pipeline-compatibility">Render Pipeline Compatibility</a></p></li>
<li>
<p><a href="#properties">Properties</a></p>

<ul>
<li><a href="#render-texture">Render Texture</a></li>
<li><a href="#custom-render-texture">Custom Render Texture</a></li>
</ul>
</li>
<li><p><a href="#exporting-custom-render-texture-to-a-file">Exporting Custom Render Texture to a file</a></p></li>
<li><p><a href="#update-zones">Update Zones</a></p></li>
<li><p><a href="#controlling-custom-render-texture-from-script">Controlling Custom Render Texture from Script</a></p></li>
<li><p><a href="#double-buffered-custom-render-textures">Double Buffered Custom Render Textures</a></p></li>
<li><p><a href="#chaining-custom-render-textures">Chaining Custom Render Textures</a></p></li>
<li><p><a href="#writing-a-shader-for-a-custom-render-texture">Writing a shader for a Custom Render Texture</a></p></li>
</ul>

<p><a name="render-pipeline-compatibility"></a></p>

<h2>Render Pipeline Compatibility</h2>

<p>The following table describes the compatibility between the <strong>Custom Render Textures</strong> feature and each render pipeline:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">功能</th>
	<th style="text-align:left;">内置渲染管线</th>
	<th style="text-align:left;">通用渲染管线 (URP)</th>
	<th style="text-align:left;">高清渲染管线 (HDRP)</th>
	<th style="text-align:left;">Custom Scriptable Render Pipeline (SRP)</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Custom Render Textures</td>
	<td style="text-align:left;">Yes (1)</td>
	<td style="text-align:left;">Yes (1)</td>
	<td style="text-align:left;">Yes (1)</td>
	<td style="text-align:left;">Yes (1)</td>
</tr>
</tbody>
</table>

<p><strong>注意：</strong></p>

<ol>
<li>Currently, you can’t create Materials that update and initialize <strong>Custom Render Textures</strong> in <a href="https://docs.unity3d.com/Packages/com.unity.shadergraph@latest">Shader Graph</a>. You can only create Unity shaders that operate on Custom Render Textures by writing <a href="SL-Shader.html">ShaderLab</a> code.</li>
</ol>

<p><a name="properties"></a></p>

<h2>属性</h2>

<figure>
<img src="../uploads/Main/CustomRenderTextures-0.png" alt="">
</figure>

<p>The <strong>Custom Render Textures</strong> Inspector window displays many of the same properties as the Render Texture Inspector, and some properties specific to <strong>Custom Render Textures</strong>.</p>

<p><a name="render-texture"></a></p>

<h3>渲染纹理：</h3>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">属性：</th>
	<th style="text-align:left;">功能：</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Dimension</strong></td>
	<td style="text-align:left;">Dimension of the Render Texture.</td>
</tr>
<tr>
	<td style="text-align:left;">     2D</td>
	<td style="text-align:left;">Makes the Render Texture two-dimensional.</td>
</tr>
<tr>
	<td style="text-align:left;">     Cube</td>
	<td style="text-align:left;">Makes the Render Texture a cube map.</td>
</tr>
<tr>
	<td style="text-align:left;">     3D</td>
	<td style="text-align:left;">Makes the Render Texture three-dimensional.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Size</strong></td>
	<td style="text-align:left;">渲染纹理的大小（以像素为单位）。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Color Format</strong></td>
	<td style="text-align:left;">The format of the Render Texture.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>sRGB (Color Render Texture)</strong></td>
	<td style="text-align:left;">Enable to allow the Render Texture to use sRGB read/write conversions (Read Only).</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Enable Mip Maps</strong></td>
	<td style="text-align:left;">Enable this property to allow the Render Texture to use mipmaps.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Auto generate Mip Maps</strong></td>
	<td style="text-align:left;">Enable this property to automatically generate mipmaps.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Wrap Mode</strong></td>
	<td style="text-align:left;">Defines how the Texture behaves when tiled.</td>
</tr>
<tr>
	<td style="text-align:left;">     Repeat</td>
	<td style="text-align:left;">The Texture repeats itself as a tile.</td>
</tr>
<tr>
	<td style="text-align:left;">     Clamp</td>
	<td style="text-align:left;">Unity stretches the edges of the Texture.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Filter Mode</strong></td>
	<td style="text-align:left;">Defines how Unity filters the Texture when it is stretched by 3D transformations.</td>
</tr>
<tr>
	<td style="text-align:left;">     Point</td>
	<td style="text-align:left;">The Texture becomes blocky up close.</td>
</tr>
<tr>
	<td style="text-align:left;">     Bilinear</td>
	<td style="text-align:left;">The Texture becomes blurry up close.</td>
</tr>
<tr>
	<td style="text-align:left;">     Trilinear</td>
	<td style="text-align:left;">Like Bilinear, but the Texture also blurs between different mip levels.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Aniso Level</strong></td>
	<td style="text-align:left;">Increases Texture quality when viewing the texture at a steep angle. Good for floor and ground textures.</td>
</tr>
</tbody>
</table>

<p><a name="custom-render-texture"></a></p>

<h3>自定义纹理：</h3>

<p>These properties are exclusive to Custom Render Textures. Custom Texture parameters are separated into three categories:</p>

<ul>
<li><p><strong>Material</strong>: Defines what shader is used to update the texture.</p></li>
<li><p><strong>Initialization</strong>: Controls how the texture is initialized before the shader performs any updates.</p></li>
<li><p><strong>Update</strong>: Controls how the shader updates the texture.</p></li>
</ul>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">属性：</th>
	<th style="text-align:left;">功能：</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Material</strong></td>
	<td style="text-align:left;">The Material that Unity uses to update the Custom Render Texture.</td>
</tr>
<tr>
	<td style="text-align:left;">     Shader Pass</td>
	<td style="text-align:left;">The Shader Pass that Unity uses to update the Custom Render Texture. The drop-down shows all passes available in your Material.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Initialization Mode</strong></td>
	<td style="text-align:left;">The rate at which Unity initializes the texture.</td>
</tr>
<tr>
	<td style="text-align:left;">     OnLoad</td>
	<td style="text-align:left;">Unity initializes the texture once upon creation.</td>
</tr>
<tr>
	<td style="text-align:left;">     Realtime</td>
	<td style="text-align:left;">Unity initializes the texture every frame.</td>
</tr>
<tr>
	<td style="text-align:left;">     OnDemand</td>
	<td style="text-align:left;">Unity initializes the texture on demand from the script.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Source</strong></td>
	<td style="text-align:left;">How Unity texture initializes the texture.</td>
</tr>
<tr>
	<td style="text-align:left;">     Texture and Color</td>
	<td style="text-align:left;">Unity uses a texture multiplied by a color to initialize the texture.</td>
</tr>
<tr>
	<td style="text-align:left;">         Initialization Color</td>
	<td style="text-align:left;">Defines the color that Unity uses to initialize the Custom Render Texture. If you also provide an <strong>Initialization Texture</strong>, Unity uses the multiplication of the color and the texture to initialize the Custom Render Texture.</td>
</tr>
<tr>
	<td style="text-align:left;">         Initialization Texture</td>
	<td style="text-align:left;">Defines the texture that Unity uses to initialize the Custom Render Texture. If you also provide an <strong>Initialization Color</strong>, Unity uses the multiplication of the color and the texture to initialize the Custom Render Texture.</td>
</tr>
<tr>
	<td style="text-align:left;">     Material</td>
	<td style="text-align:left;">Unity uses a Material to initialize the texture.</td>
</tr>
<tr>
	<td style="text-align:left;">         Initialization Material</td>
	<td style="text-align:left;">Defines the Material that Unity uses to initialize the Custom Render Texture.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Update Mode</strong></td>
	<td style="text-align:left;">The rate at which the shader updates the Custom Render Texture.</td>
</tr>
<tr>
	<td style="text-align:left;">     OnLoad</td>
	<td style="text-align:left;">The shader updates the texture once upon creation.</td>
</tr>
<tr>
	<td style="text-align:left;">     Realtime</td>
	<td style="text-align:left;">The shader updates the texture every frame.</td>
</tr>
<tr>
	<td style="text-align:left;">     OnDemand</td>
	<td style="text-align:left;">The shader updates the texture on demand from script.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Period</strong></td>
	<td style="text-align:left;">The amount of time in seconds over which Unity updates a real-time texture. A value of 0.0 updates every frame. This property is only available when the <strong>Update Mode</strong> to property is set to Realtime.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Double Buffered</strong></td>
	<td style="text-align:left;">Double-buffers the texture. Each update swaps the two buffers. This allows you to read the result of the preceding update in the shader.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Wrap Update Zones</strong></td>
	<td style="text-align:left;">启用此属性允许部分更新区域包围纹理的边框。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Cubemap Faces</strong></td>
	<td style="text-align:left;">(Cubemap only) Series of toggle allowing user to enable/disable update on each of the cube map faces.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Update Zone Space</strong></td>
	<td style="text-align:left;">The coordinate system where Unity defines the update zones.</td>
</tr>
<tr>
	<td style="text-align:left;">     Normalized</td>
	<td style="text-align:left;">All coordinates and sizes are between 0 and 1 with the top-left corner starting at (0, 0).</td>
</tr>
<tr>
	<td style="text-align:left;">     Pixel</td>
	<td style="text-align:left;">All coordinates and sizes are expressed in pixels limited by the width and height of the texture. Top-left corner starting at (0, 0).</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Update Zone List</strong></td>
	<td style="text-align:left;">List of update zones for the texture. For more information, see <a href="#update-zones">Update Zones</a>.</td>
</tr>
</tbody>
</table>

<p><a name="exporting-custom-render-texture-to-a-file"></a></p>

<h2>将自定义渲染纹理导出到文件：</h2>

<p>You can export Custom Render Textures to a PNG or EXR file (depending on the texture format) in the <strong>Export</strong> menu.</p>

<p><a name="update-zones"></a></p>

<h2>更新区域 (Update Zones)：</h2>

<p>When Unity updates a Custom Render Texture, it uses the Material to update the whole texture at once by default. The Custom Render Texture allows you to define zones of partial update. You can use this to define as many zones as you want and the order in which the zones are processed.</p>

<p>You can use update zones for various purposes. For example, you could have multiple small zones to splat water drops on the texture and then do a full pass to simulate the ripples. This can also be used as an optimization when you know that you don’t need to update the full texture.</p>

<figure>
<img src="../uploads/Main/CustomRenderTextures-1.png" alt="">
</figure>

<p>Update zones have their own set of properties. The <strong>Update Zone Space</strong> is visible in the display. Coordinates depend on the <strong>Dimension</strong> of the texture: 2D for 2D and Cube textures, or 3D for 3D textures.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">属性：</th>
	<th style="text-align:left;">功能：</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Center</td>
	<td style="text-align:left;">The coordinates of the center of the update zone..</td>
</tr>
<tr>
	<td style="text-align:left;">Size</td>
	<td style="text-align:left;">The size of the update zone.</td>
</tr>
<tr>
	<td style="text-align:left;">Rotation</td>
	<td style="text-align:left;">The orientation of the update zone in degrees (unavailable for 3D textures).</td>
</tr>
<tr>
	<td style="text-align:left;">Shader Pass</td>
	<td style="text-align:left;">Defines the Shader Pass to use for this update zone. If you set this property as default, this update zone uses the Shader Pass that you defined in the main part of the inspector. Otherwise it will use the Shader Pass you provide.</td>
</tr>
<tr>
	<td style="text-align:left;">Swap (Double Buffer)</td>
	<td style="text-align:left;">(Only for Double Buffered textures) When you enable this property, Unity swaps the buffers before processing this update zone.</td>
</tr>
</tbody>
</table>

<p><a name="controlling-custom-render-texture-from-script"></a></p>

<h2>通过脚本控制自定义渲染纹理</h2>

<p>You can access most of the Custom Render Texture functionalities in the Scripting API. You can also change Material parameters, update frequency, update zones, request an update, and more using a script.</p>

<p>When Unity updates or initializes a Custom Render Texture, it uses the current properties to render the next frame. This guarantees that any Material that uses this texture has an up-to-date result. For example, in the following script Unity performs two updates using the second <a href="#update-zones">Update Zone</a> array:</p>

<p><code>customRenderTexture.updateZones = updateZones1;</code></p>

<p><code>customRenderTexture.Update();</code></p>

<p><code>customRenderTexture.updateZones = updateZones2;</code></p>

<p><code>customRenderTexture.Update();</code></p>

<p><strong>Note:</strong> Unity does not update or initialize a Custom Render Texture at the same time you call <code>Update()</code> or <code>Initialize()</code>. This is because Unity always updates and initializes a Custom Render Texture at the start of the next frame.</p>

<p><a name="double-buffered-custom-render-textures"></a></p>

<h2>双缓冲自定义纹理</h2>

<p>You can double-buffer Custom Render Textures. To do this, enable <strong>Double Buffered</strong> in the <a href="#properties">Custom Render Textures component</a>, or use <a href="https://docs.unity3d.com/ScriptReference/CustomRenderTexture-doubleBuffered.html"><code>CustomRenderTexture.doubleBuffered</code></a>.</p>

<p>Double-buffering means that inside one Custom Render Texture there are two textures which Unity can swap after each update. This allows you to read the result of the last update while writing a new result in the Custom Render Texture. </p>

<p>Double-buffering is particularly useful if the shader needs to use the content the Unity has already written in the texture but can’t mix the values with classic blend modes. This is also required if the shaders have to sample different pixels from the preceding result.</p>

<p><strong>Performance warning</strong>: Double-buffering currently involves a copy of the texture at each swap which can lead to a drop in performance depending on the frequency at which it is done and the resolution of the texture.</p>

<p><a name="chaining-custom-render-textures"></a></p>

<h2>链接自定义渲染纹理</h2>

<p>You can chain Custom Render Textures together. To do this, use a Custom Render Texture as the input for a material that you have assigned to the <strong>Material</strong> or <strong>Initialization Mode &gt; Texture</strong> in another Custom Render Texture.</p>

<p>You can use chained Custom Render Textures to generate a simulation with multiple steps.</p>

<p>Chained Custom Render Textures are dependent on each other. Unity calculates this dependency automatically so that each update happens in the right order. It does this by looking at the materials assigned to the <strong>Material</strong> and <strong>Initialization Mode &gt; Texture</strong> properties in the <strong>Custom Render Textures</strong> inspector window.</p>

<p><a name="writing-a-shader-for-a-custom-render-texture"></a></p>

<h2>为自定义渲染纹理编写着色器</h2>

<p>To update a Custom Render Texture manually, you can write a specialized Custom Render Texture shader.</p>

<p>To help you write your Custom Render Texture shaders, here are two example frameworks that contain utility functions and built-in helper variables.</p>

<p>The following shader example fills the texture with a color multiplied by a color. When you write a shader for a Custom Render Texture, you must do the following:</p>

<ul>
<li>
<code>#include "UnityCustomRenderTexture.cginc"</code>.</li>
<li>Use the provided Vertex Shader <code>CustomRenderTextureVertexShader</code>.</li>
<li>Use the provided input structure <code>v2f_customrendertexture</code> for the pixel shader.</li>
</ul>

<pre><code>Shader "CustomRenderTexture/Simple"
{
    Properties
    {
        _Color ("Color", Color) = (1,1,1,1)
        _Tex("InputTex", 2D) = "white" {}
     }

     SubShader
     {
        Lighting Off
        Blend One Zero

        Pass
        {
            CGPROGRAM
            #include "UnityCustomRenderTexture.cginc"
            #pragma vertex CustomRenderTextureVertexShader
            #pragma fragment frag
            #pragma target 3.0

            float4      _Color;
            sampler2D   _Tex;

            float4 frag(v2f_customrendertexture IN) : COLOR
            {
                return _Color * tex2D(_Tex, IN.localTexcoord.xy);
            }
            ENDCG
            }
    }
}
</code></pre>

<p>The following example is a shader for a material you can use to initialize a Custom Render Texture. When you write a shader for an initialization Material, the following steps are mandatory:</p>

<ul>
<li><p><code>#include "UnityCustomRenderTexture.cginc"</code></p></li>
<li><p>Use the provided Vertex Shader <code>CustomRenderTextureVertexShader</code></p></li>
<li><p>Use the provided input structure <code>v2f_customrendertexture</code> for the pixel shader.</p></li>
</ul>

<pre><code>Shader "CustomRenderTexture/CustomTextureInit"
{
    Properties
    {
        _Color ("Color", Color) = (1,1,1,1)
        _Tex("InputTex", 2D) = "white" {}
    }

    SubShader
    {
        Lighting Off
        Blend One Zero

        Pass
        {
            CGPROGRAM
            #include "UnityCustomRenderTexture.cginc"

            #pragma vertex InitCustomRenderTextureVertexShader
            #pragma fragment frag
            #pragma target 3.0

            float4      _Color;
            sampler2D   _Tex;

            float4 frag(v2f_init_customrendertexture IN) : COLOR
            {
                return _Color * tex2D(_Tex, IN.texcoord.xy);
            }
            ENDCG
        }
    }
}
</code></pre>

<p><code>#include "UnityCustomRenderTexture.cginc"</code> gives you access to a set of built-in values. This includes Global values, values from the <code>v2f_customrendertexture</code> structure and values from the <code>v2f_init_customrendertexture</code> structure.</p>

<p>The <code>v2f_customrendertexture</code> structure accepts the following inputs:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">名称</th>
	<th style="text-align:left;">Type</th>
	<th style="text-align:left;">值</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><code>localTexcoord</code></td>
	<td style="text-align:left;"><code>float3</code></td>
	<td style="text-align:left;">相对于当前正在处理的更新区域的纹理坐标。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>globalTexcoord</code></td>
	<td style="text-align:left;"><code>float3</code></td>
	<td style="text-align:left;">相对于自定义渲染纹理本身的纹理坐标</td>
</tr>
<tr>
	<td style="text-align:left;"><code>primitiveID</code></td>
	<td style="text-align:left;"><code>uint</code></td>
	<td style="text-align:left;">当前正在处理的更新区域的索引。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>direction</code></td>
	<td style="text-align:left;"><code>float3</code></td>
	<td style="text-align:left;">对于立方体自定义渲染纹理，立方体贴图内当前像素的方向。</td>
</tr>
</tbody>
</table>

<p>The <code>v2f_init_customrendertexture</code> structure accepts the following inputs:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">名称</th>
	<th style="text-align:left;">Type</th>
	<th style="text-align:left;">值</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><code>texcoord</code></td>
	<td style="text-align:left;">float3</td>
	<td style="text-align:left;">相对于自定义渲染纹理本身的纹理坐标。</td>
</tr>
</tbody>
</table>

<p>The following structures are Global values:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">名称</th>
	<th style="text-align:left;">Type</th>
	<th style="text-align:left;">值</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><code>_CustomRenderTextureWidth</code></td>
	<td style="text-align:left;"><code>float</code></td>
	<td style="text-align:left;">自定义纹理的宽度（以像素为单位）</td>
</tr>
<tr>
	<td style="text-align:left;"><code>_CustomRenderTextureHeight</code></td>
	<td style="text-align:left;"><code>float</code></td>
	<td style="text-align:left;">自定义纹理的高度（以像素为单位）</td>
</tr>
<tr>
	<td style="text-align:left;"><code>_CustomRenderTextureDepth</code></td>
	<td style="text-align:left;"><code>float</code></td>
	<td style="text-align:left;">自定义纹理的深度（以像素为单位，仅适用于 3D 纹理，否则将始终等于 1）。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>_CustomRenderTextureCubeFace</code></td>
	<td style="text-align:left;"><code>float</code></td>
	<td style="text-align:left;">The index of the current cubemap face that Unity processes (-X, +X, -Y, +Y, -Z, +Z). This only applies to cube maps.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>_CustomRenderTexture3DSlice</code></td>
	<td style="text-align:left;"><code>float</code></td>
	<td style="text-align:left;">Index of the current 3D slice being processed. This only applies to 3D textures.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>_SelfTexture2D</code></td>
	<td style="text-align:left;"><code>Sampler2D</code></td>
	<td style="text-align:left;">仅适用于双缓冲纹理：该纹理包含上次交换之前的上次更新的结果。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>_SelfTextureCube</code></td>
	<td style="text-align:left;"><code>SamplerCUBE</code></td>
	<td style="text-align:left;">仅适用于双缓冲纹理：该纹理包含上次交换之前的上次更新的结果。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>_SelfTexture3D</code></td>
	<td style="text-align:left;"><code>Sampler3D</code></td>
	<td style="text-align:left;">仅适用于双缓冲纹理：该纹理包含上次交换之前的上次更新的结果。</td>
</tr>
</tbody>
</table>

<hr>

<ul>
<li><p><span class="page-edit"> 2017–05–18 页面已发布</span></p></li>
<li><p><span class="page-history">Unity <a href="../Manual/30_search.html?q=newin20171">2017.1</a> 中的新功能 <span class="search-words">NewIn20171</span></span></p></li>
</ul>
<!-- area:graphics -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-RenderTexture.html"></a></span><div class="tip">渲染纹理</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="class-MovieTexture.html"></a></span><div class="tip">电影纹理 (Movie Textures)</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2020.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
