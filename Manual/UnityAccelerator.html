<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Unity Accelerator - Unity 手册">
<title>Unity Accelerator - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2020.3/uploads/Main/AcceleratorOverview.png">
<meta name="description" content="The Unity Accelerator is a caching proxy agent that keeps copies of a team&amp;#8217;s imported assets to speed up teamwork. The goal of the accelerator is to help teams reduce iteration time. An Accelerator coordinates asset sharing when your team is working on the same local network so that you don’t need to reimport portions of your project. This is done via the Asset Import Pipeline v2 Unity Editor capabilities. Optionally, Accelerator can also be used with Unity Teams Advanced to share Collaborate source assets, which significantly reduces download time from the Collaborate service.">
<meta property="og:description" content="The Unity Accelerator is a caching proxy agent that keeps copies of a team&amp;#8217;s imported assets to speed up teamwork. The goal of the accelerator is to help teams reduce iteration time. An Accelerator coordinates asset sharing when your team is working on the same local network so that you don’t need to reimport portions of your project. This is done via the Asset Import Pipeline v2 Unity Editor capabilities. Optionally, Accelerator can also be used with Unity Teams Advanced to share Collaborate source assets, which significantly reduces download time from the Collaborate service.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UnityAccelerator';
      if(!page) page = 'index';
      var version = '2020.3';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2020.3/Manual/UnityAccelerator.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2020.3/Manual/UnityAccelerator.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2020.3/Manual/UnityAccelerator.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2020.3/Manual/UnityAccelerator.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2020.3/Manual/UnityAccelerator.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2020.3/Manual/UnityAccelerator.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2020.3/Manual/UnityAccelerator.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2020.3/Documentation/Manual/UnityAccelerator.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UnityAccelerator.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UnityAccelerator.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UnityAccelerator.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UnityAccelerator.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UnityAccelerator.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UnityAccelerator.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UnityAccelerator.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UnityAccelerator.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UnityAccelerator.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UnityAccelerator.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UnityAccelerator.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UnityAccelerator.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UnityAccelerator.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UnityAccelerator.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UnityAccelerator.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UnityAccelerator.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UnityAccelerator.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2020.3/Documentation/Manual/UnityAccelerator.html">English</a></li>
<li><a data-lang="cn" href="/cn/2020.3/Manual/UnityAccelerator.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2020.3/Manual/UnityAccelerator.html">日本語</a></li>
<li><a data-lang="es" href="/es/2020.3/Manual/UnityAccelerator.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2020.3/Manual/UnityAccelerator.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2020.3/Manual/UnityAccelerator.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UnityAccelerator.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UnityAccelerator.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UnityAccelerator.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UnityAccelerator.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UnityAccelerator.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UnityAccelerator.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UnityAccelerator.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UnityAccelerator.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UnityAccelerator.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UnityAccelerator.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UnityAccelerator.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UnityAccelerator.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UnityAccelerator.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UnityAccelerator.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UnityAccelerator.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UnityAccelerator.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UnityAccelerator.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2020.3 (LTS)</a></li>
<li><a href="UnityServices.html">Unity 服务</a></li>
<li><a href="UnityCollaborate.html">Unity Collaborate</a></li>
<li>Unity Accelerator</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnityCollaborateExportProject.html"></a></span><div class="tip">将项目移动到另一个版本控制系统</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityCollaborateTroubleShooting.html"></a></span><div class="tip">Collaborate troubleshooting tips</div>
</div>
</div></div>
<h1>Unity Accelerator</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<h2>概述</h2>

<p>The Unity Accelerator is a caching proxy agent that keeps copies of a team’s imported assets to speed up teamwork. The goal of the accelerator is to help teams reduce iteration time. An Accelerator coordinates asset sharing when your team is working on the same local network so that you don’t need to reimport portions of your project. This is done via the <a href="AssetDatabase.html">Asset Import Pipeline</a> v2 Unity Editor capabilities. Optionally, Accelerator can also be used with <a href="https://unity3d.com/teams">Unity Teams</a> Advanced to share Collaborate source assets, which significantly reduces download time from the <a href="https://unity3d.com/unity/features/collaborate">Collaborate</a> service.</p>

<p>When you install an Accelerator on your local network, the Unity Editor (version 2019.3 or higher; see Unity Editor <a href="#reqs">requirements</a> below) communicates with it to store and retrieve assets that other team members need, have changed, or built. The Accelerator keeps temporary copies of these assets to avoid wasting time and bandwidth retrieving or reimporting them.</p>

<figure>
<img src="../uploads/Main/AcceleratorOverview.png" alt="Accelerator overview">
<figcaption>Accelerator overview</figcaption>
</figure>

<h3>内容</h3>

<ul>
<li>
<a href="#install">Installing an Accelerator</a>

<ul>
<li><a href="#reqs">Requirements</a></li>
<li><a href="#installer">Installing an Accelerator via the Installer</a></li>
<li><a href="#docker">Installing an Accelerator via Docker Hub</a></li>
<li><a href="#UsingWithTeams">Accelerator with Unity Teams Advanced</a></li>
</ul>
</li>
<li>
<a href="#Monitoring">监测 Accelerator</a>

<ul>
<li><a href="#admin">Local Administrator Dashboard</a></li>
<li><a href="#developer">Developer Dashboard (Teams Advanced Only)</a></li>
<li><a href="#metrics">Accessing Accelerator metrics directly</a></li>
</ul>
</li>
<li><a href="#Service">停止并重新启动 Accelerator 服务</a></li>
<li><a href="#command">Command Line Tools</a></li>
<li><a href="#mirror">Mirroring Multiple Accelerators</a></li>
<li><a href="#Troubleshooting">故障排除</a></li>
</ul>

<p><a name="install"></a> </p>

<h2>Installing an Accelerator</h2>

<p><a name="reqs"></a></p>

<h3>要求</h3>

<h4>本地托管要求</h4>

<p>请在您团队经常使用的每个网络上都安装 Accelerator。您必须有计算机在本地网络上运行并且可以托管 Accelerator。选择主机时，应考虑以下要求：</p>

<ul>
<li>本地主机必须运行以下操作系统之一：

<ul>
<li>Linux（Ubuntu 16.04、Ubuntu 18.04 或 CentOS 7）<br>
对于 Linux，必须以 root 用户身份安装 Accelerator。</li>
<li>Windows Server 2008R2 / Windows 7 或更高版本（64 位）</li>
<li>Mac OS X 10.12 或更高版本（64 位）</li>
</ul>
</li>
<li>The local host must have sufficient local storage space to host most of your project’s files, preferably on a solid-state drive separate from the drive that hosts your operating system.</li>
<li>The local host should have as much memory as is reasonably affordable. The minimum should be 2GB of RAM, but if more memory is available it will be used by the operating system to buffer cached items, resulting in higher performance for commonly accessed items. Usual recommendation is 32GB of RAM.</li>
<li>本地主机必须与您的团队连接到同一网络，或者必须采用允许访问 Accelerator IP 地址和端口 (TCP) 的相应防火墙策略在本地进行路由。</li>
<li>Anyone with access to the host machine has access to your project’s files, regardless of permission structures within your Unity Organization. As such, Unity recommends restricting that machine so that only an <a href="OrgsManagingyourOrganization.html">Organization Owner or Manager</a> can access and interact with the Accelerator.</li>
</ul>

<h4>Unity Editor 要求</h4>

<p>Your Unity project must use version 2019.3 or higher of the Unity Engine.</p>

<p><a name="installer"></a></p>

<h3>Installing an Accelerator via the Installer</h3>

<p>如果您没有 Unity Teams Advanced，可以直接下载并安装 Unity Accelerator，并在安装过程中取消选中注册令牌：</p>

<ul>
<li>Download for <a href="https://accelerator.cloud.unity3d.com/api/v1/accelerator/download/installer?target_os=windows&amp;download_location=manual">Windows</a>
</li>
<li>Download for <a href="https://accelerator.cloud.unity3d.com/api/v1/accelerator/download/installer?target_os=darwin&amp;download_location=manual">Mac OS X</a>
</li>
<li>Download for <a href="https://accelerator.cloud.unity3d.com/api/v1/accelerator/download/installer?target_os=linux&amp;download_location=manual">Linux</a>
</li>
</ul>

<p><strong>注意</strong>：如果将 Accelerator 安装在 Linux 系统上，请参阅<a href="#verify">验证 Accelerator 版本</a>。</p>

<p>You can also install the accelerator via <a href="#docker">Docker Hub</a>.</p>

<h4>在“无头”计算机中安装 Accelerator</h4>

<p>在每个平台上，可以从命令行运行安装程序。如果使用参数 <code>--help</code> 来执行安装程序，它将显示各种可用选项。要在没有任何提示的情况下运行完整安装，您应该为以下项提供值：</p>

<ul>
<li>
<code>--storagedir</code> 设置 Accelerator 的目录以存储文件和配置。</li>
<li>
<code>--registration-token</code> 指定创建 Accelerator 后在<a href="https://developer.cloud.unity3d.com/projects/">开发者控制面板</a>中提供的令牌。这是将 Accelerator 与 Collaborate 配合使用的必需条件。</li>
<li>Use <code>--mode</code> unattended for automated installations that should not query anything. This uses default values, or values from other option flags provided.</li>
<li>On Mac OS X, you need to mount the disk image (DMG) and run the binary located in the installer app’s directory (located at <code>Contents/MacOS/installbuilder.sh</code>).</li>
</ul>

<h4>配置 Editor 以使用 Accelerator</h4>

<p>安装 Accelerator 时，安装向导的最后一步按以下格式显示 Editor 中引用的 IP 地址和端口：</p>

<p><code>[IP]:[Port]</code></p>

<p>要配置您的 Editor 来将该 Accelerator 用作资源管线版本 2 缓存服务器，请遵循以下步骤进行操作：</p>

<ol>
<li>In the Unity Editor, select <strong>Edit</strong> &gt; <strong>Project Settings…</strong> (Windows) or <strong>Unity</strong> &gt; <strong>Project Settings…</strong> (OSX).</li>
<li>Select <strong>Editor</strong> from the left menu.</li>
<li>Under the <strong>Cache Server</strong> section, set <strong>Mode</strong> to <strong>Enabled</strong>.</li>
<li>Fill in the <strong>IP address</strong> with Accelerator’s IP address from the setup wizard.</li>
<li>Press the <strong>Check Connection</strong> button to test connectivity.</li>
</ol>

<figure>
<img src="../uploads/Main/AcceleratorProject.png" alt="Project settings">
<figcaption>Project settings</figcaption>
</figure>

<p>You can optionally choose a different namespace prefix from the default, in case you wish to ensure isolation from other projects. You can also individually disable uploading or downloading as needed. For example, you might want a build system to only have uploading enabled, and developers’ editors only have download enabled. Note the TLS/SSL option is only a feature in editor versions from 2020.1 onward and the accelerator must be configured for TLS as well.</p>

<p>In the main editor view, you can check the accelerator connectivity by looking at the status bar on the lower right (only in editor versions from 2020.1 onward):</p>

<figure>
<img src="../uploads/Main/AcceleratorConnect.png" alt="Project connectivity">
<figcaption>Project connectivity</figcaption>
</figure>

<p>If you’d like, you can configure the accelerator to use via the Global settings, which will be used by default for all projects unless overridden by the project settings. To configure the global settings, select the <strong>Edit</strong> &gt; <strong>Preferences…</strong> menu item:</p>

<figure>
<img src="../uploads/Main/AcceleratorGlobal.png" alt="Project connectivity">
<figcaption>Project connectivity</figcaption>
</figure>

<p><a name="docker"></a></p>

<h3>Installing an Accelerator via Docker Hub</h3>

<p>A container is provided on Docker Hub at https://hub.docker.com/repository/docker/unitytechnologies/accelerator.</p>

<h4>First Time Setup</h4>

<p>Unity recommends that you use a persistent storage area for hosting the Accelerator configuration and cache. To set this up for the first time, you will want to use one or more of the following variables when running the container for the first time (some examples will be below). The variables are only used if the startup does not find a configuration file so it’s safe to run with them set on successive runs.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">Variable</th>
	<th style="text-align:left;">Usage</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">COLLAB_REGISTRATION_TOKEN</td>
	<td style="text-align:left;">Accelerate <a href="https://unity3d.com/unity/features/collaborate">Unity Collaborate</a>
</td>
</tr>
<tr>
	<td style="text-align:left;">DISABLE_USAGE_STATS</td>
	<td style="text-align:left;">Set to true to disable usage stats – leaving usage stats enabled can help improve the Accelerator’s features and performance by giving Unity valuable feedback.</td>
</tr>
<tr>
	<td style="text-align:left;">USER</td>
	<td style="text-align:left;">The user name for the local, built-in dashboard.</td>
</tr>
<tr>
	<td style="text-align:left;">PASSWORD</td>
	<td style="text-align:left;">The password for the local, built-in dashboard.</td>
</tr>
<tr>
	<td style="text-align:left;">CERT_HOSTNAME</td>
	<td style="text-align:left;">The hostname to use for TLS support. This is used for redirects, etc. and goes along with CERT_PEM and KEY_PEM below.</td>
</tr>
<tr>
	<td style="text-align:left;">CERT_PEM</td>
	<td style="text-align:left;">The path to a cert.pem to use for TLS support. If you set CERT_HOSTNAME but do not set CERT_PEM, &lt;persist_dir&gt;/cert.pem will be assumed.</td>
</tr>
<tr>
	<td style="text-align:left;">KEY_PEM</td>
	<td style="text-align:left;">The path to a key.pem to use for TLS support. If you set CERT_HOSTNAME but do not set KEY_PEM, &lt;persist_dir&gt;/key.pem will be assumed.</td>
</tr>
</tbody>
</table>

<p>For example, to start up and register for use with the Collaborate service, you might run something like this:</p>

<pre><code>$ docker run --rm -ti -v "${PWD}/agent:/agent" -e 'COLLAB_REGISTRATION_TOKEN=ft0bJvbRD' unitytechnologies/accelerator:latest
</code></pre>

<p>To override TLS settings, continuing with the above example, ensure you have your cert.pem and key.pem in the /agent path specified and then include a CERT_HOSTNAME like this:</p>

<pre><code>$ docker run --rm -ti -v "${PWD}/agent:/agent" -e 'CERT_HOSTNAME=myhostname.com' -e 'COLLAB_REGISTRATION_TOKEN=ft0bJvbRD' unitytechnologies/accelerator:latest
</code></pre>

<h4>Subsequent Execution</h4>

<p>You can also set any environment variables the accelerator would normally recognize. See <code>unity-accelerator --all-help</code> and look for options that indicate <code>Default: $SOME_VARIABLE</code>. There are two that the container will set if you do not:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">variable</th>
	<th style="text-align:left;">usage</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">UNITY_ACCELERATOR_PERSIST</td>
	<td style="text-align:left;">Container default is /agent. This is the directory where unity-accelerator.cfg resides as well as other persisted data (cachedir possibly being different).</td>
</tr>
<tr>
	<td style="text-align:left;">UNITY_ACCELERATOR_LOG_STDOUT</td>
	<td style="text-align:left;">Container default is true. This, if true, will output logs to stdout only; false if you want actual log files written within the persist directory.</td>
</tr>
</tbody>
</table>

<h4>Running the container</h4>

<p>We sign our docker images so we strongly recommend you <a href="https://success.docker.com/article/introduction-to-docker-content-trust">enable Docker Content Trust</a>:</p>

<pre><code>$ export DOCKER_CONTENT_TRUST=1
</code></pre>

<p>Normally, you should be able to run the Accelerator like the following:</p>

<pre><code>$ docker run -p 80:80 -p 443:443 -p 10080:10080 -v "${PWD}/agent:/agent" unitytechnologies/accelerator:latest
</code></pre>

<p>However, If you would like to choose a different location for where the Accelerator will store the configuration and cached artifacts, you might choose to provide additional environment variable configuration values like this:</p>

<pre><code>$ docker run -p 80:80 -p 443:443 -p 10080:10080 -v "${PWD}/agent:/mnt/another_spot" -e "UNITY_ACCELERATOR_PERSIST=/mnt/another_spot" -e "UNITY_ACCELERATOR_DEBUG=true" unitytechnologies/accelerator:latest
</code></pre>

<p>To set username and password for local dashboard, you can use USER and PASSWORD environment variables:</p>

<pre><code>$ docker run -p 80:80 --env PASSWORD=[PASSWORD] --env USER=[USERNAME] unitytechnologies/accelerator:latest
</code></pre>

<h4>Exposed Ports</h4>

<p>The following are the default values for ports used by Unity Accelerator: 80, 443, 10080, 10443.</p>

<p><a name="UsingWithTeams"></a></p>

<h2>Accelerator 与 Unity Teams Advanced</h2>

<p>Accelerator 与 <a href="https://unity3d.com/teams">Unity Teams</a> Advanced 配合使用可带来更多益处：</p>

<ul>
<li>
<a href="https://unity3d.com/unity/features/collaborate">Collaborate</a> integration to ensure recently added or modified source assets are delivered on the local network, dramatically reducing download times.</li>
<li>在<a href="https://developer.cloud.unity3d.com/projects/">开发者控制面板</a>中进行远程监测（请参阅<a href="#Monitoring">监测 Accelerator</a>）。</li>
<li>Secure transport and access control of source assets shared between Unity Editors and the Accelerator (see <a href="#Security">source asset security</a>).</li>
</ul>

<figure>
<img src="../uploads/Main/AcceleratorDiagram.png" alt="在常规的 Collaborate 工作流程中，用户可以向云端上传和从云端下载。凭借加速的 Collaborate 工作流程，上传内容将保存到云端和 Accelerator，但是用户可以直接从 Accelerator 下载。">
<figcaption>在常规的 Collaborate 工作流程中，用户可以向云端上传和从云端下载。凭借加速的 Collaborate 工作流程，上传内容将保存到云端和 Accelerator，但是用户可以直接从 Accelerator 下载。</figcaption>
</figure>

<h3>设置</h3>

<p>如果您拥有 Unity Teams Advanced，则您组织的某个所有者或管理员可以按照以下步骤从<a href="https://developer.cloud.unity3d.com/projects/">开发者控制面板</a>中创建 Accelerator：</p>

<ol>
<li>From the <strong>Develop</strong> tab of the dashboard, select the project you want to create an Accelerator for.</li>
<li>In the project view, select <strong>Collaborate</strong> &gt; <strong>Accelerator</strong> from the left navigation bar.
3.单击 <strong>New Accelerator</strong> 按钮。</li>
<li>In the <strong>New Accelerator</strong> prompt, enter an <strong>agent name</strong> for Unity to use to identify the Accelerator agent. You can also optionally specify a <strong>port number</strong>.<br><img src="../uploads/Main/AcceleratorNew.png" alt="New Accelerator window"><br><strong>Note</strong>: The current limit is three Accelerators per Organization.<br><br>
</li>
<li>Click <strong>Save</strong> to confirm your settings.</li>
<li>On the following screen, copy the <strong>registration token</strong>, then click the <strong>Download Accelerator</strong> button in the top-right corner, and select the appropriate operating system.<br><br><img src="../uploads/Main/AcceleratorDetails.png" alt="Download Accelerator from the developer dashboard."><br>You can also install the accelerator via <a href="https://hub.docker.com/repository/docker/unitytechnologies/accelerator">Docker Hub</a>.</li>
<li>Launch the downloaded installer, and follow the installation wizard. Use the <strong>registration token</strong> you copied to register the Accelerator with Unity Collaborate. This will allow you to use the Accelerator for enhanced Collaborate performance.</li>
</ol>

<p><strong>注意</strong>：如果将 Accelerator 安装在 Linux 系统上，请参阅<a href="#verify">验证 Accelerator 版本</a>。</p>

<p><a name="Security"></a></p>

<h3>Source asset security</h3>

<p>When used with <a href="https://unity3d.com/teams">Unity Teams</a> Advanced, each Accelerator receives its own security certificate to prove it has permission to access your Organization. Before an Accelerator uploads or downloads any content, the Unity Editor making the request uses SSL/TLS to securely connect to the Accelerator and verifies its authenticity. When Unity Editors discover and connect to an Accelerator, instead of passing a normal Unity user token, they receive a special token from the Unity Identity service. These tokens verify the user’s identity and access to a single project within your Organization, thereby protecting access to any other Organizations and projects while using an Accelerator.</p>

<p>或者，在启动 Unity Editor 时，您可以使用<a href="CommandLineArguments.html">命令行参数</a>来提供 Accelerator 缓存服务器配置详细信息。</p>

<p>要指定希望使用 Accelerator 缓存服务器，请使用 <code>-EnableCacheServer</code> 参数，而要指定地址和端口号，请使用 <code>-cacheServerEndpoint Address:Port</code>，并将 Address 和 Port 替换为缓存服务器的相应详细信息。</p>

<p>注意：Accelerator 缓存服务器要求您的项目使用<a href="AssetDatabase.html">资源数据库 V2</a> (ADB2)。从命令行启动 Unity 时，可以使用 <code>-adb2</code> 参数来强制升级到 ADB2。</p>

<p>请参阅<a href="CommandLineArguments.html">命令行参数</a>以了解更多信息。</p>

<p><a name="Monitoring"></a></p>

<h2>监测 Accelerator</h2>

<p><a name="admin"></a></p>

<h3>Local administrator dashboard</h3>

<p>The Accelerator has a built-in dashboard for quick monitoring and configuration changes.</p>

<figure>
<img src="../uploads/Main/AcceleratorConfig.png" alt="Accelerator configuration">
<figcaption>Accelerator configuration</figcaption>
</figure>

<p>See the <a href="#command">Command Line Tools</a> section for information on how to find out what your dashboard URL is; though if you know the ip and port of the accelerator you can just use http://ip:port/dashboard and the accelerator will handle any needed redirects. For full metrics monitoring see <a href="#access">Accessing Accelerator metrics directly</a> and the full configuration of the Accelerator is available through its unity-accelerator.cfg file.</p>

<p><a name="developer"></a></p>

<h3>开发者控制面板（仅限 Unity Teams Advanced 用户）</h3>

<p>If you are a Unity Teams Advanced user, you can monitor Accelerator metrics from the <a href="https://developer.cloud.unity3d.com/projects/">developer dashboard</a>. These metrics only apply to source assets, and do not apply to generated (imported) assets. </p>

<p>To view a summary of your project’s Accelerators, select that project, then select <strong>Collaborate</strong> &gt; <strong>Accelerators</strong> from the left navigation bar. In this menu, you can view the following information:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>属性</strong></th>
	<th style="text-align:left;"><strong>描述</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>名称</strong></td>
	<td style="text-align:left;">创建 Accelerator 时提供的名称。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Avg.Efficiency</strong></td>
	<td style="text-align:left;">过去 24 小时内，Accelerator 的平均<a href="#Efficiency">效率</a>。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Editors</strong></td>
	<td style="text-align:left;">连接到 Accelerator 的 Unity Editor 数量。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Latest Activity</strong></td>
	<td style="text-align:left;">Accelerator 的最近使用情况。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Status</strong></td>
	<td style="text-align:left;">Accelerator 可能处于以下状态之一：<br><br>- <strong>Available</strong> 表示未安装 Accelerator 或未向 Collaborate 服务注册 Accelerator。<br>- <strong>Ready</strong> 表示 Accelerator 已向 Collaborate 服务注册，但未连接 Unity Editor。<br>- <strong>In use</strong> 表示已连接 Unity Editor，或 Unity Editor 最近已连接到 Accelerator。<br>- <strong>Idle</strong> 表示 Unity Editor 以前使用过 Accelerator，但是最近没有活动。<br>- <strong>Not Listening</strong> 表示 Accelerator 无法连接到已配置的端口（很可能是因为其他服务已在使用该端口）。<br>- <strong>Disconnected</strong> 表示 Accelerator 不再连接到相应服务来报告使用情况，也不再接收配置更改。</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Enabled</strong></td>
	<td style="text-align:left;">指示 Unity Editor 是否可以发现并尝试使用 Accelerator。不管已禁用的 Accelerator 是否正在运行，Unity Editor 都不会使用这些 Accelerator。</td>
</tr>
</tbody>
</table>

<p>单击 Accelerator 的 <strong>Details</strong> 可查看有关其使用情况的以下深入信息。这些数据每 10 分钟更新一次。</p>

<p><a name="Efficiency"></a></p>

<h4>效率 (Efficiency)</h4>

<p>此处显示 Accelerator 在过去 24 小时内的平均性能。值的范围是 0 到 100，用于衡量从 Accelerator 本地（而不是从 Collaborate 服务远程）提供的内容下载所占的百分比。值为 0 表示 Accelerator 无助于内容下载。值为 100 表示 Accelerator 提供了所有内容下载。</p>

<h4>已移除的字节数 (Bytes Removed)</h4>

<p>Periodically, the Accelerator clears space to store new assets. When it does, the dashboard reports the number of bytes allocated to older assets that the Accelerator removed from local storage. </p>

<p><strong>Note</strong>: This is a normal operation to help maintain a healthy Accelerator. However, if this value seems to be adversely affecting the Accelerator’s efficiency, you might need to add more storage space to accommodate your team’s usage. Ideally, the file system running the Accelerator should use a solid-state hard drive with enough free disk space to house all files in the most recent version of active projects, but this is not a requirement. If insufficient storage is available, the overall efficiency of the Accelerator declines.</p>

<h4>传输的字节数 (Bytes Delivered)</h4>

<p>分布式团队可能有使用 Accelerator 的本地参与者，也有使用 Collaborate 服务的远程参与者。在这些情况下，Accelerator 会监听远程发布事件，并主动为其本地网络上的用户下载受影响的内容。</p>

<p>Accelerator 在使用过程中会报告从远程 Collaborate 服务请求和下载的字节总数，而不是从本地网络传输的字节总数。在本地传输更多字节会更有利于您的团队，因为这样可以减轻网络网关的负担。</p>

<h4>节省的时间 (Time Saved)</h4>

<p>The Accelerator tracks bandwidth when it delivers locally stored assets instead of downloading them from the Collaborate service, and reports the difference in time the Unity Editor would have waited to download assets remotely as time saved.</p>

<p><strong>Note</strong>: The aforementioned metrics apply only to source assets. They do not apply to generated (imported) assets.</p>

<p><a name="metrics"></a></p>

<h3>直接访问 Accelerator 指标</h3>

<p>如果您没有使用 Unity Teams Advanced，每个 Accelerator 将以 <code>/metrics</code> 的形式托管 <a href="https://prometheus.io/">Prometheus 指标报告</a>，您可以从本地网络查询此数据。以下是您可以访问的指标的完整列表：</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>指标</strong></th>
	<th style="text-align:left;"><strong>描述</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><code>process_resident_memory_bytes</code></td>
	<td style="text-align:left;">Accelerator 使用的内存量。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_sys_cpu_percent</code></td>
	<td style="text-align:left;">系统使用的 CPU 量。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_sys_mem_bytes_used</code></td>
	<td style="text-align:left;">系统使用的内存量。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_connects</code></td>
	<td style="text-align:left;">Unity Editor 连接到资源导入管线的服务的次数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_bytes_in</code></td>
	<td style="text-align:left;">从资源导入管线接收到的字节数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_bytes_out</code></td>
	<td style="text-align:left;">发送到资源导入管线的字节数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="0",method="get"}</code></td>
	<td style="text-align:left;">发送到资源导入管线的项数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="1",method="get"}</code></td>
	<td style="text-align:left;">发送到资源导入管线的项中发生的错误数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="2",method="get"}</code></td>
	<td style="text-align:left;">发送到资源导入管线的项中发生的命名空间错误数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="3",method="get"}</code></td>
	<td style="text-align:left;">资源导入管线针对尚未缓存的项提出的请求数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="0",method="put"}</code></td>
	<td style="text-align:left;">从资源导入管线接收到的项数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="1",method="put"}</code></td>
	<td style="text-align:left;">从资源导入管线接收的项中发生的错误数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="2",method="put"}</code></td>
	<td style="text-align:left;">从资源导入管线接收的项中发生的命名空间错误数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="0",method="delete"}</code></td>
	<td style="text-align:left;">从资源导入管线提出的关于删除项的请求数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="1",method="delete"}</code></td>
	<td style="text-align:left;">资源导入管线删除项时发生的错误数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="2",method="delete"}</code></td>
	<td style="text-align:left;">资源导入管线提出的删除项请求中发生的命名空间错误数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_requests{code="3",method="delete"}</code></td>
	<td style="text-align:left;">资源导入管线针对尚未缓存的项提出的删除项请求数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_cache_bytes_evicted_unscheduled</code></td>
	<td style="text-align:left;">Number of bytes evicted from cache during an “unscheduled” pass. Unscheduled evictions occur when running out of disk space while processing a request. Normally, scheduled background evictions should keep up with demand, so an increase in this metric’s value indicates an overwhelmed server. Increasing the configuration’s CacheMinFreeBytes or CacheMinFreePercent may help to give more of a free space buffer, or you may need to upgrade the underlying hardware or install an additional accelerator.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_cache_files_evicted_unscheduled</code></td>
	<td style="text-align:left;">Similar to the above uta_agent_cache_bytes_evicted_unscheduled metrics, but counts files evicted instead of byte count. This might be an easier metric to alert on. For example: Alert when files metric increases by more than 1 per second.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_cache_hits</code></td>
	<td style="text-align:left;">从缓存满足的资源导入管线请求数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_cache_misses</code></td>
	<td style="text-align:left;">无法从缓存满足的资源导入管线请求数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_cache_bytes_out</code></td>
	<td style="text-align:left;">从缓存提供给资源导入管线的字节数。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>uta_agent_protobuf_cache_bytes_in</code></td>
	<td style="text-align:left;">从资源导入管线接收而存储到缓存中的字节数。</td>
</tr>
</tbody>
</table>

<h3>Unity Editor 日志调试</h3>

<p><a href="LogFiles.html">Unity Editor 日志</a>可用于查看调试信息。要查看 Collaborate 事件的日志，请在环境变量设置为 <code>enableCollabEventLogs=true</code> 的情况下运行 Unity Editor（或 Unity Hub）。具有 <code>[collab-accelerator]</code> 标记的日志会有助于深入了解 Accelerator 的性能。</p>

<p>以下代码块显示了使用资源导入管线 v2 的 Accelerator 的日志输出示例。这无需 <code>enableCollabEventLogs=true</code>，因为它不用于 Collaborate。</p>

<pre><code>2019-10-07T11:34:51-0700 Using Asset Import Pipeline V2.
  ...
  2019-08-08T09:04:03-0700 Start importing Assets/Scenes/tame-the-unicorn.png guid(07a0d449dcaef4d2ba104e9d9b350de6)
  2019-08-08T09:04:05-0700 Done importing asset: 'Assets/Scenes/tame-the-unicorn.png' (target hash: 'd5fddd470dd9beedcd7261b6455e436a') in 1.082988 seconds
  2019-08-08T09:04:05-0700 RemoteAssetCache::AddArtifactToCacheServer - artifactKey='Guid(07a0d449dcaef4d2ba104e9d9b350de6) Importer(-1,)' Target hash='d5fddd470dd9beedcd7261b6455e436a'

Querying for cacheable assets in Cache Server:
    86ac778e1a44c9143864797ddacf8cc9:Assets/New Material.mat
RemoteAssetCache - Download - Metadata - success:true, namespace:81e94844d19a16919208533e08183531, key:8d71d5006046bb9d5e4a7172eec3f3b2
RemoteAssetCache - Download - Artifact - success:true, namespace:78b2fdc254b0a4f8a4693a81bb96598a, key:de1eef03efd25a722d1500658bf19038 for asset:'Assets/New Material.mat', time elapsed: 0.005171 seconds
RemoteAssetCache - Download - Artifact - success:true, namespace:78b2fdc254b0a4f8a4693a81bb96598a, key:b19c9d64967a9691abecdb66364ae392 for extension:'Assets/New Material.mat.info', time elapsed: 0.004721 seconds
</code></pre>

<p><a name="Service"></a></p>

<h2>停止并重新启动 Accelerator 服务</h2>

<p>Accelerator 作为每个平台的后台进程运行。</p>

<h3>Windows</h3>

<p>在“设置”菜单中搜索“服务”一词或者在<strong>运行</strong>对话框 (<strong>WIN</strong> + <strong>R</strong>) 中运行“<em>services.msc</em>”来打开<strong>服务面板</strong>。下一步，在生成的列表中找到“Unity Accelerator”服务。左面板中会显示<strong>停止服务</strong>或<strong>重新启动服务</strong>选项。</p>

<h3>Mac OS X</h3>

<p>在终端中运行 <code>launchctl</code> 命令以便从 LaunchControl 实用程序控制“com.unity.accelerator”服务。有关更多信息，请访问 <a href="https://www.launchd.info/">https://www.launchd.info/</a>。</p>

<h3>Linux</h3>

<p>使用 <code>service</code> 控制台实用程序来控制“unity-accelerator”服务。有关更多信息，请访问 <a href="http://manpages.ubuntu.com/manpages/bionic/man8/service.8.html">http://manpages.ubuntu.com/manpages/bionic/man8/service.8.html</a>。</p>

<h3>维护</h3>

<p>Accelerator 服务会在维护期间自动自我更新。当前，该维护期根据运行 Accelerator 的计算机而设置为当地时间凌晨 01:00–02:00。仅当 Accelerator 发现可用的更新版本时，才会进行自我更新。</p>

<p>Accelerator’s installation and uninstallation logs are saved in the operating system’s standard temp directory as <code>unity-accelerator-*install.log</code>. Accelerator’s logs are saved in the storage directory as <code>unity-accelerator.log</code>.</p>

<p><a name="command"></a></p>

<h2>Command line tools</h2>

<p>The Accelerator has a large set of command line tools you can use to troubleshoot, configure, and just generally make use of one or more accelerators. For ease of use, it’s best to add the location of the unity-accelerator executable to your PATH. The executable was installed in the path you chose when running the installer, C:\Program Files\Unity\accelerator for example.</p>

<p>The CLI tool has an extensive help system; you can run unity-accelerator with no arguments to get started:</p>

<pre><code>$ unity-accelerator
Unity Accelerator v1.0.524+g96c5e18

Run on a local network to speed up transactions with Unity Services.

.....
</code></pre>

<p>You can also run <code>unity-accelerator --all-help</code> to output all the help text for all commands in one go. It’s probably best to pipe the output through less or redirect output to a text file to read.</p>

<p>When working on a specific accelerator, to reconfigure it for example, it’s best to change your working directory to the same as where the <code>unity-accelerator.cfg</code> file is. You can also set the <code>UNITY_ACCELERATOR_PERSIST</code> environment variable to that directory, or you can try to remember to always use the <code>--persist &lt;dir&gt;</code> option, but most find changing the working directory easiest.</p>

<p>One rather common set of cli tools used are the dashboard tools:</p>

<pre><code>$ unity-accelerator dashboard password newaccount
Password: ****
   Again: ****
$ unity-accelerator dashboard list
admin
newaccount
$ unity-accelerator dashboard url
http://172.18.37.249:8080/dashboard/
</code></pre>

<p>That final tool, <code>dashboard url</code>, is useful to find out what url to put in your browser to visit the built-in dashboard.</p>

<p><a name="mirror"></a></p>

<h2>Mirroring multiple accelerators</h2>

<p>You can configure multiple accelerators to mirror the same cached data if desired. You might want to have two mirrored accelerators running on the same network for high availability – if one crashes, has a hardware failure, or needs maintenance for whatever reason, the other accelerator can compensate. You might also mirror cache servers that are remote from each other, for example a main office might mirror its data to a branch office, providing copies of its cached data for use at the branch office as well.</p>

<p>For now, the mirroring features only provide outgoing data capabilities, also known as “push” or “forwarding”. You can push/forward to multiple accelerators, or even chain them: A sending to B, with B sending to C, and even C sending back to A. You do not need to worry about circular chains; items are time stamped so a receiving accelerator will ignore any incoming items that aren’t newer than what it already has.</p>

<p>Let’s walk through an example where accelerator A has an ip:port of 1.1.1.1:1111 and accelerator B is 2.2.2.2:2222. Let’s say both have no data to start with, so let’s put an item into A and note that it is not in B.</p>

<pre><code>$ echo test1 | unity-accelerator cache put 1.1.1.1:1111 namespace1 key1
$ unity-accelerator cache get 1.1.1.1:1111 namespace1 key1
test1
$ unity-accelerator cache get 2.2.2.2:2222 namespace1 key1
key not found
</code></pre>

<p>Now let’s configure A to forward to B. We do this by altering A’s configuration, so log into the machine running accelerator A, shut down the accelerator and:</p>

<pre><code># Shutdown Accelerator A
$ cd &lt;directory where unity-accelerator.cfg is&gt;
$ unity-accelerator config set ProtobufForwardPuts protobuf:2.2.2.2:2222
# Start Accelerator A back up
</code></pre>

<p>We should now be able to put another item into A’s cache and see it forwarded to B.</p>

<pre><code>$ echo test2 | unity-accelerator cache put 1.1.1.1:1111 namespace2 key2
$ unity-accelerator cache get 1.1.1.1:1111 namespace2 key2
test2
$ unity-accelerator cache get 2.2.2.2:2222 namespace2 key2
key not found
# It will take up to a minute before the forwarding occurs, due to how the algorithm works with batching, etc. But within a minute or two you should see...
$ unity-accelerator cache get 2.2.2.2:2222 namespace2 key2
test2
</code></pre>

<p>However, this only covers new data (any new items put into accelerator A will be forwarded to accelerator B) but doesn’t cover any existing data. In our example, the first item still is not in accelerator B.</p>

<pre><code>$ unity-accelerator cache get 2.2.2.2:2222 namespace1 key1
key not found
</code></pre>

<p>To cover this case, and in cases where you just want to forward all data one time (could be useful when switching from one accelerator to a new one) you can use the “push” command line tool:</p>

<pre><code>$ unity-accelerator cache push 1.1.1.1:1111 2.2.2.2:2222
{"msg":"push completed", "destination":"2.2.2.2:2222", "namespaces":2, "keys":2, "bytes":12, "supercededs":1, "errors":0, "elapsed":"44.054078ms"}
$ unity-accelerator cache get 2.2.2.2:2222 namespace1 key1
test1
</code></pre>

<p>The push tool will send a request to the first accelerator and ask it to send all its data to the second accelerator. When it is done, the first accelerator will send back the “push completed” response with detail as to what was done.</p>

<p>There are additional, advanced configuration options you can research by running <code>unity-accelerator config help | less</code> and searching for Forward. You can specify the forwarding concurrency, queue size, error handling, etc.</p>

<p>Also note that you may wish to alter the configuration values for the MaintenanceStart and MaintenanceDuration of each mirrored accelerator so that they do not all shutdown for maintenance at the same time.</p>

<p><a name="Troubleshooting"></a></p>

<h2>故障排除</h2>

<p>如果您已经安装 Accelerator，但是某些 Unity Editor 无法使用它，则可能有多种原因导致出现此问题。以下故障排除选项可能有助于解决此问题：</p>

<h4>检查使用的 Unity Editor 版本</h4>

<p>Each project contributor must be using an Editor version 2019.3 or higher to use an Accelerator.</p>

<h4>验证用户是否在 Accelerator 的本地网络中</h4>

<p>Make sure the Accelerator is running on the same local area network as the project contributors experiencing issues. Accelerator does not affect contributors who are working remotely.</p>

<h4>测试 Accelerator 的连接</h4>

<p>检查遇到问题的计算机是否可以访问 Accelerator。如果使用 Unity Teams Advanced，请按照以下步骤在浏览器中访问 Accelerator 的运行状况页面：</p>

<p>1.在<a href="https://developer.cloud.unity3d.com/">开发者控制面板</a>中，选择 <strong>Collaborate</strong> &gt; <strong>Accelerator</strong>。
2.单击您要检测的 Accelerator 的 <strong>Details</strong>。
3.单击 Accelerator IP 地址旁的信息图标以显示其运行状况页面的 URL。</p>

<p>如果没有使用 Unity Teams Advanced，请将 Accelerator 的主机 IP 地址输入到以下 URL 路径中以显示其运行状况页面：</p>

<p><code>[AcceleratorIP]:[AcceleratorPort]/api/agent-health</code></p>

<p>如果测试未通过，请确保所有主机和网络防火墙都允许访问 Accelerator 的监听 IP 地址和端口 (TCP)。您可能需要与网络管理员协调以允许访问此端口。</p>

<h4>Check the Accelerator’s project configuration</h4>

<p>If you use Unity Teams Advanced, verify that the Accelerator is configured for the project in question. Navigate to the project in the <a href="https://developer.cloud.unity3d.com/projects/">developer dashboard</a>, and select <strong>Collaborate</strong> &gt; <strong>Accelerator</strong> from the left navigation bar. You should see the Accelerator listed for that project.</p>

<p><a name="verify"></a></p>

<h3>验证 Accelerator 版本</h3>

<p>对于 Linux 系统上安装的 Accelerator，所有 Linux 可执行文件均具有签名文件，您可以对这些文件进行验证以确保没有恶意实体篡改了您下载的 Accelerator 版本。您可以使用受信任的 GnuPG 版本来验证签名文件。以下密钥为最新版本签名。包含密钥的公钥块位于 <a href="https://collab-accelerator.cloud.unity3d.com/">https://collab-accelerator.cloud.unity3d.com/</a> 中。</p>

<pre><code>pub rsa4096 2019-12-02
Key fingerprint = 9BC4 B04D F2E8 74E5 64AA 47E7 6D44 3B8B 002C F61F
uid       Unity Technologies ApS (Accelerator signing key) &lt;sst-ops@unity3d.com&gt;
</code></pre>

<p>要将密钥下载到您的 GPG 存储库，请使用以下命令之一：</p>

<pre><code>$ gpg --keyserver https://collab-accelerator.cloud.unity3d.com/ --search-key "sst-ops@unity3d.com"

$ gpg --keyserver https://collab-accelerator.cloud.unity3d.com/ --recv-key 9BC4B04DF2E874E564AA47E76D443B8B002CF62F
</code></pre>

<p>要检查您安装的 Accelerator 版本是不是原始版本且未经修改，请验证该文件的签名。</p>

<p>Accelerator 安装文件随附了 <a href="https://storage.googleapis.com/unity-accelerator-prd/unity-accelerator-installer.sig">https://storage.googleapis.com/unity-accelerator-prd/unity-accelerator-installer.sig</a> 中提供的签名文件。使用此签名文件可以验证 Accelerator 安装程序：</p>

<pre><code>$ gpg --verify unity-accelerator-installer.sig unity-accelerator-linux-x64-installer.run
</code></pre>

<p>在信任密钥之前，请将指纹与伪造或不受信任的密钥中显示的指纹进行对比。
信任密钥后，您将看到如下内容：</p>

<pre><code>gpg: Signature made Thu Jan 16 12:29:14 2020 PST
gpg:                using RSA key 9BC4B04DF2E874E564AA47E76D443B8B002CF61F
gpg: Good signature from "Unity Technologies ApS (Accelerator signing key) &lt;sst-ops@unity3d.com&gt;" [ultimate]
</code></pre>

<p>这意味着签名有效，并且您已信任此密钥。</p>

<h4>错误密钥</h4>

<p>如果没有正确的分发密钥，以上命令的输出将如下所示：</p>

<pre><code>gpg: Signature made Thu Jan 16 12:29:14 2020 PST
gpg:                using RSA key 9BC4B04DF2E874E564AA47E76D443B8B002CF61F
gpg: Can't check signature: No public key
</code></pre>

<p>在此情况下，您必须按照上文中的说明来获取密钥。</p>

<h4>伪造或不受信任的密钥</h4>

<p>如果您有包含有效签名的密钥副本，但是该密钥未被标记为受信任或该密钥是伪造的，则输出将如下所示：</p>

<pre><code>gpg: Signature made Thu Jan 16 12:29:14 2020 PST
gpg:                using RSA key 9BC4B04DF2E874E564AA47E76D443B8B002CF61F
gpg: Good signature from "Unity Technologies ApS (Accelerator signing key) &lt;sst-ops@unity3d.com&gt;" [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 9BC4 B04D F2E8 74E5 64AA  47E7 6D44 3B8B 002C F61F
</code></pre>

<p>如果密钥是伪造的，则必须使用签名文件来验证指纹。
如果密钥未被标记为受信任，请编辑密钥，将其标记为受信任。有关更多信息，请参阅 <a href="https://www.gnupg.org/gph/en/manual/x334.html">https://www.gnupg.org/gph/en/manual/x334.html</a>。</p>

<h3>支持</h3>

<p>For help regarding Accelerator with Unity Teams, <a href="mailto:collabsupport@unity3d.com">email support</a> or submit a help ticket from the <a href="https://developer.cloud.unity3d.com/projects/">developer dashboard</a>. To submit a ticket for a Unity Teams Advanced project, select your project, then select <strong>Collaborate</strong> &gt; <strong>Support</strong> from the left navigation bar.</p>

<p>有关 Accelerator 与资源导入管线配合使用的帮助信息，请访问 <a href="https://forum.unity.com/forums/unity-accelerator.392/">Accelerator 论坛</a>。</p>
<!-- area:authoring -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnityCollaborateExportProject.html"></a></span><div class="tip">将项目移动到另一个版本控制系统</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UnityCollaborateTroubleShooting.html"></a></span><div class="tip">Collaborate troubleshooting tips</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2020.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
