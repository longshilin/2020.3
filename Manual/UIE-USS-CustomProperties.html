<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="USS custom properties (variables) - Unity 手册">
<title>USS custom properties (variables) - Unity 手册</title>
<meta name="description" content="USS variables, also called custom properties, define values that you can reuse in other USS rules. You can create variables for any type of USS property.">
<meta property="og:description" content="USS variables, also called custom properties, define values that you can reuse in other USS rules. You can create variables for any type of USS property.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UIE-USS-CustomProperties';
      if(!page) page = 'index';
      var version = '2020.3';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2020.3/Manual/UIE-USS-CustomProperties.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2020.3/Manual/UIE-USS-CustomProperties.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2020.3/Manual/UIE-USS-CustomProperties.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2020.3/Manual/UIE-USS-CustomProperties.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2020.3/Manual/UIE-USS-CustomProperties.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2020.3/Manual/UIE-USS-CustomProperties.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2020.3/Manual/UIE-USS-CustomProperties.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2020.3/Documentation/Manual/UIE-USS-CustomProperties.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UIE-USS-CustomProperties.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UIE-USS-CustomProperties.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UIE-USS-CustomProperties.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-USS-CustomProperties.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UIE-USS-CustomProperties.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-USS-CustomProperties.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-USS-CustomProperties.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-USS-CustomProperties.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-USS-CustomProperties.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-USS-CustomProperties.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-USS-CustomProperties.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-USS-CustomProperties.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-USS-CustomProperties.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-USS-CustomProperties.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-USS-CustomProperties.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-USS-CustomProperties.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UIE-USS-CustomProperties.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2020.3/Documentation/Manual/UIE-USS-CustomProperties.html">English</a></li>
<li><a data-lang="cn" href="/cn/2020.3/Manual/UIE-USS-CustomProperties.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2020.3/Manual/UIE-USS-CustomProperties.html">日本語</a></li>
<li><a data-lang="es" href="/es/2020.3/Manual/UIE-USS-CustomProperties.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2020.3/Manual/UIE-USS-CustomProperties.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2020.3/Manual/UIE-USS-CustomProperties.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2020.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UIE-USS-CustomProperties.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UIE-USS-CustomProperties.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UIE-USS-CustomProperties.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UIE-USS-CustomProperties.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UIE-USS-CustomProperties.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UIE-USS-CustomProperties.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UIE-USS-CustomProperties.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UIE-USS-CustomProperties.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UIE-USS-CustomProperties.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UIE-USS-CustomProperties.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UIE-USS-CustomProperties.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UIE-USS-CustomProperties.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UIE-USS-CustomProperties.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UIE-USS-CustomProperties.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UIE-USS-CustomProperties.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UIE-USS-CustomProperties.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UIE-USS-CustomProperties.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2020.3 (LTS)</a></li>
<li><a href="UIToolkits.html">Creating user interfaces (UI)</a></li>
<li><a href="UIElements.html">UI Toolkit</a></li>
<li><a href="UIE-USS.html">样式和 Unity 样式表</a></li>
<li>USS custom properties (variables)</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-USS-SupportedProperties.html"></a></span><div class="tip">USS 支持的属性</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-USS-UnityVariables.html"></a></span><div class="tip">Built-in Unity variables</div>
</div>
</div></div>
<h1>USS custom properties (variables)</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>USS variables, also called custom properties, define values that you can reuse in other USS rules. You can create variables for any type of USS property.</p>

<p>To create a USS variable, prefix its name with a double-hyphen (<code>--</code>).</p>

<pre><code class="lang-css">--color-1: red;
</code></pre>

<p>To use a USS variable value in another USS rule, use the <code>var()</code> function to call it.</p>

<pre><code class="lang-css">var(--color-1);
</code></pre>

<table>
<colgroup>
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>注意：</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">The <code>var()</code> function also accepts an optional default value (see <a href="#specifying-default-values">Specifying default values</a> below).</td>
</tr>
</tbody>
</table>

<p>After you define a variable, you can use it in as many other USS properties as you want. When you update it, all of the USS properties that use it update as well.</p>

<p>For example, the following USS snippet defines one style rule that declares two color variables, and two style rules that use those variables.</p>

<pre><code class="lang-css">:root {
  --color-1: blue;
  --color-2: yellow;
}

.paragraph-regular {
  color: var(--color-1);
  background: var(--color-2);
  padding: 2px;
  }

.paragraph-reverse {
  color: var(--color-2);
  background: var(--color-1);
  padding: 2px;
  }
</code></pre>

<p>To update the color scheme, you only have to change the two variable values instead of four color values.</p>

<p>Variables make it easier to manage styles for complex UI, where multiple rules, sometimes in different style sheets, use the same values.</p>

<p><a name="specifying-default-values"></a></p>

<h2>Specifying default values</h2>

<p>The <code>var()</code> function accepts an optional default value. The UI system uses the default value when it cannot resolve the variable. For example, if you remove a variable from a style sheet but forget to remove a reference to it.</p>

<p>To specify a default value for a variable, add it after the variable value, separated by a comma <code>,</code>. The following USS snippet calls the <code>--color-1</code> variable, but if the UI system can’t resolve it, it uses the hex value for red (<code>#FF0000</code>).</p>

<pre><code class="lang-css">var(--color-1, #FF0000);
</code></pre>

<h2>Built-in Unity variables</h2>

<p>Unity’s built-in style sheets define USS variables that set default values for the Editor interface. You can use these variables in your own style sheets to ensure that your custom Editor extensions match Unity style. For details, see [Built-in Unity variables](UIE-USS-UnityVariables.</p>

<h2>Differences from CSS</h2>

<p>Variables work almost exactly the same way in USS as they do in CSS. For detailed information about CSS variables, see the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties">MDN documentation</a>.</p>

<p>There are some minor differences that are important to understand.</p>

<h3>Calling USS variables from other functions</h3>

<p>Some web browsers support using the <code>var()</code> function inside of other functions, as in the property declaration below:</p>

<pre><code class="lang-css">background-color: rgb(var(--red), 0, 0);
</code></pre>

<p>Unity does not support this use of <code>var()</code>.</p>

<h3>Declaring variables in the root selector</h3>

<p>A common CSS practice is to declare “global” variables in the <code>:root</code> pseudo-class selector. Because every element in a web page inherits from <code>:root</code>, every selector in a CSS style sheet can call variables declared there.</p>

<p>In Unity, declaring variables in <code>:root</code> works for Editor windows and runtime panels, provided you attach the stylesheet to the root Visual Element of the panel or Editor window. It does not work for Inspector UI.</p>

<p>In the Inspector, the <code>:root</code> pseudo class is only active on the Inspector window’s root VisualElement. The subtrees you attach style sheets to are much lower in the Inspector hierarchy. Consequently, the <code>:root</code> selector never matches any part of a subtree.</p>

<h4>Simulating :root for custom Inspector UI</h4>

<p>You can use a USS class selector as a substitute for the <code>:root</code> selector in custom Inspectors. Create a USS class to declare your variables in, and apply it to the highest element in the hierarchy to which you have access.</p>

<p>For example, the following USS snippet defines the following classes:</p>

<ul>
<li>
<code>.root</code> declares a variable.</li>
<li>
<code>.label1</code> calls the variable.</li>
</ul>

<pre><code class="lang-css">.root {
    --color1: rgb(25, 255, 75);
}

.label1 {
    color: var(--color1);
}
</code></pre>

<p>The following UXML snippet creates a simple container element and assigns the root class to it. The container has a child element, a Label, with the <code>label1</code> class assigned to it.</p>

<p>In the UXML:</p>

<pre><code class="lang-xml">&lt;UXML xmlns="UnityEngine.UIElements"&gt;
    &lt;VisualElement class="root"&gt;
        &lt;!-- Including, for example... --&gt;
        &lt;Label class="label1" text="Label text"/&gt;
    &lt;/VisualElement&gt;
&lt;/UXML&gt;
</code></pre>

<p>Because the Label inherits from the container, its styles can call any variables defined in the container’s styles.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UIE-USS-SupportedProperties.html"></a></span><div class="tip">USS 支持的属性</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UIE-USS-UnityVariables.html"></a></span><div class="tip">Built-in Unity variables</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2020.3</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
